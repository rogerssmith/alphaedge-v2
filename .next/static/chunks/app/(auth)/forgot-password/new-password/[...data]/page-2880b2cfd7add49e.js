(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4064],{92352:function(e,t,r){Promise.resolve().then(r.bind(r,63218))},3338:function(e,t,r){"use strict";var o=r(9268),n=r(41557);r(86006);var s=r(32131);t.Z=e=>{let{label:t,onClick:r,disabled:a,outline:l,small:c,icon:i,loading:u,type:d,primaryColor:m}=e,{company:f}=(0,s.Z)();return null!=m||null==f||f.color.primary,null==f||f.color.primaryVeryLight,(0,o.jsxs)("button",{type:d,style:{backgroundColor:"#9D00FF"},onClick:r,disabled:a||u,className:"relative disabled:opacity-70 disabled:cursor-not-allowed \n      rounded-lg hover:opacity-80 transition \n      w-full disabled:active:scale-[1] active:scale-[.95] \n      flex justify-center items-center gap-2 \n      ".concat(l?"text-slate-700":"text-white"," \n      ").concat(c?"h-[40px]":"h-[55px]"," \n      ").concat(c?"text-sm":" text-base"," \n      ").concat(c?"font-light":"font-semibold"," \n      ").concat(c?"border-[1px]":"border-2"),children:[!u&&t,i&&!u&&(0,o.jsx)(i,{size:24}),u&&(0,o.jsx)(n.a,{size:24,color:l?m:"#ffff"})]})}},88001:function(e,t,r){"use strict";var o=r(9268),n=r(86006),s=r(32131);t.Z=e=>{let{maxLength:t,disabled:r,value:a,onChange:l,secureEntry:c,placeholder:i,icon:u,iconAction:d,id:m}=e,[f,h]=(0,n.useState)(!1),{company:p}=(0,s.Z)();null==p||p.color.primary,null==p||p.color.primaryLight;let g=null==p?void 0:p.color.primaryVeryLight;return(0,o.jsxs)("div",{style:{backgroundColor:"white",borderColor:g},"aria-disabled":!0,className:"flex justify-between w-full \n    items-center px-3 rounded-lg border \n    ".concat(r&&"bg-gray-100 cursor-not-allowed"),children:[(0,o.jsx)("input",{maxLength:t,onFocus:()=>h(!0),onBlur:()=>h(!1),disabled:r,id:m,type:c?"password":"text",placeholder:i,value:a,onChange:l,className:"py-4 outline-none w-full \n        h-full pr-2 bg-inherit \n        text-gray-500 font-semibold \n        disabled:cursor-not-allowed"}),u&&(0,o.jsx)(u,{onClick:d,size:24,className:"cursor-pointer text-gray-600"})]})}},43744:function(e,t,r){"use strict";var o=r(9268),n=r(86006),s=r(22450),a=r(46338),l=r(32131);t.Z=()=>{let{mode:e,onLightMode:t,onDarkMode:r}=(0,s.Z)(),{company:c}=(0,l.Z)(),i=null==c?void 0:c.color.primary;return(0,n.useEffect)(()=>{"dark"!==e&&r()},[e,r]),(0,o.jsxs)(o.Fragment,{children:["dark"===e&&(0,o.jsx)(a.J8Y,{color:i,onClick:t,className:"cursor-pointer",size:24}),"light"===e&&(0,o.jsx)(a.ELD,{onClick:r,className:"text-gray-500 cursor-pointer",size:24})]})}},61052:function(e,t,r){"use strict";var o=r(9268);r(86006);var n=r(22450);t.Z=e=>{let{children:t}=e,{mode:r}=(0,n.Z)();return(0,o.jsx)("div",{className:"flex items-center \n    justify-center min-h-screen h-full p-5\n    ".concat("light"===r?"bg-white":" bg-[#121212] transition-colors duration-500"),children:(0,o.jsx)("div",{className:"w-[400px] max-w-[90%] flex flex-col items-center gap-10 border-2 p-2 rounded-3xl",children:t})})}},63218:function(e,t,r){"use strict";r.r(t);var o=r(9268),n=r(86006),s=r(61052),a=r(88001),l=r(3338),c=r(12801),i=r(56008),u=r(22450),d=r(43744),m=r(50447),f=r(68919),h=r(57401),p=r.n(h),g=r(32131);t.default=()=>{let e=(0,i.useRouter)(),{mode:t}=(0,u.Z)(),[r,h]=(0,n.useState)(!1),[w,x]=(0,n.useState)({newPassword:"",confirmNewPassword:"",isSecure:!0}),y=(0,i.useParams)(),v=y.data,b=v.map(e=>e.replaceAll("%40","@")),{company:j}=(0,g.Z)(),N=null==j?void 0:j.color.primary,[S,k]=(0,n.useState)(!1),C=async()=>{try{if(w.newPassword.trim()!==w.confirmNewPassword.trim())throw Error("Password do not match");let t=p().isStrongPassword(w.newPassword);if(!t)return f.Am.error("Use a stronger password. your password should have Minimum of 8 chararacters, Atleast one uppercase character, Atleast one Number and Atleast one Symbol(@ - . ; :)+(_)",{duration:15e3});h(!0);let r=await m.Z.post("/api/users/forgot-password/new-password",{newPassword:w.newPassword.trim(),email:b[0],otp:b[1]});if(r.data.error)throw Error(r.data.error);e.push("/forgot-password/all-done"),f.Am.success("Password Changed you can now proceed to login")}catch(e){f.Am.error(e.message),h(!1)}};return(0,o.jsxs)(s.Z,{children:[(0,o.jsx)(d.Z,{}),(0,o.jsxs)("div",{className:"flex flex-col w-full items-center gap-3",children:[(0,o.jsx)("div",{className:"font-bold text-2xl md:text-3xl \n        ".concat("light"===t?"text-slate-700":"text-white"),children:"Set new password"}),(0,o.jsx)("div",{className:"font-medium text-lg text-center \n        ".concat("light"===t?"text-gray-500":"text-gray-300"),children:"Must be at least 6 characters"})]}),(0,o.jsxs)("div",{className:"flex flex-col w-full items-center gap-3",children:[(0,o.jsx)(a.Z,{secureEntry:w.isSecure,placeholder:"Password",value:w.newPassword,icon:w.isSecure?c.dSq:c.tgn,iconAction:()=>x({...w,isSecure:!w.isSecure}),onChange:e=>x({...w,newPassword:e.target.value})}),(0,o.jsx)(a.Z,{secureEntry:w.isSecure,placeholder:"Confirm password",value:w.confirmNewPassword,icon:w.isSecure?c.dSq:c.tgn,iconAction:()=>x({...w,isSecure:!w.isSecure}),onChange:e=>x({...w,confirmNewPassword:e.target.value})})]}),(0,o.jsx)(l.Z,{loading:r,label:"Reset password",onClick:C}),(0,o.jsxs)("div",{style:{color:S?N:"light"===t?"#334155":"#e2e8f0"},onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),onClick:()=>e.push("/login"),className:"sm:cursor-pointer active:scale-[.95] \n        duration-200 select-none text-center \n        flex items-center gap-2 \n        text-sm font-semibold",children:[(0,o.jsx)(c.x_l,{})," Back to log in"]})]})}},32131:function(e,t,r){"use strict";var o=r(82561);let n=(0,o.Ue)(e=>({company:null,onCompany:t=>e({company:t})}));t.Z=n},22450:function(e,t,r){"use strict";var o=r(82561);let n=()=>{let e=localStorage.getItem("theme-mode");return e&&"light"!==e?"dark":"light"},s=()=>(localStorage.setItem("theme-mode","dark"),{mode:"dark"}),a=()=>(localStorage.setItem("theme-mode","light"),{mode:"light"}),l=(0,o.Ue)(e=>({mode:"light",onDarkMode:()=>e(s),onLightMode:()=>e(a),onInitialMode:()=>e({mode:n()})}));t.Z=l},56008:function(e,t,r){e.exports=r(8170)},83270:function(e,t,r){"use strict";r.d(t,{w_:function(){return c}});var o=r(86006),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=o.createContext&&o.createContext(n),a=function(){return(a=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},l=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)0>t.indexOf(o[n])&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]]);return r};function c(e){return function(t){return o.createElement(i,a({attr:a({},e.attr)},t),function e(t){return t&&t.map(function(t,r){return o.createElement(t.tag,a({key:r},t.attr),e(t.child))})}(e.child))}}function i(e){var t=function(t){var r,n=e.attr,s=e.size,c=e.title,i=l(e,["attr","size","title"]),u=s||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),o.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,i,{className:r,style:a(a({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),c&&o.createElement("title",null,c),e.children)};return void 0!==s?o.createElement(s.Consumer,null,function(e){return t(e)}):t(n)}}},function(e){e.O(0,[3296,5852,2815,1114,7401,9253,2961,1744],function(){return e(e.s=92352)}),_N_E=e.O()}]);