(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[146],{118:function(e,t,r){Promise.resolve().then(r.bind(r,3708))},3338:function(e,t,r){"use strict";var n=r(9268),l=r(41557);r(86006);var o=r(32131);t.Z=e=>{let{label:t,onClick:r,disabled:a,outline:s,small:c,icon:u,loading:i,type:d,primaryColor:f}=e,{company:p}=(0,o.Z)();return null!=f||null==p||p.color.primary,null==p||p.color.primaryVeryLight,(0,n.jsxs)("button",{type:d,style:{backgroundColor:"#9D00FF"},onClick:r,disabled:a||i,className:"relative disabled:opacity-70 disabled:cursor-not-allowed \n      rounded-lg hover:opacity-80 transition \n      w-full disabled:active:scale-[1] active:scale-[.95] \n      flex justify-center items-center gap-2 \n      ".concat(s?"text-slate-700":"text-white"," \n      ").concat(c?"h-[40px]":"h-[55px]"," \n      ").concat(c?"text-sm":" text-base"," \n      ").concat(c?"font-light":"font-semibold"," \n      ").concat(c?"border-[1px]":"border-2"),children:[!i&&t,u&&!i&&(0,n.jsx)(u,{size:24}),i&&(0,n.jsx)(l.a,{size:24,color:s?f:"#ffff"})]})}},43744:function(e,t,r){"use strict";var n=r(9268),l=r(86006),o=r(22450),a=r(46338),s=r(32131);t.Z=()=>{let{mode:e,onLightMode:t,onDarkMode:r}=(0,o.Z)(),{company:c}=(0,s.Z)(),u=null==c?void 0:c.color.primary;return(0,l.useEffect)(()=>{"dark"!==e&&r()},[e,r]),(0,n.jsxs)(n.Fragment,{children:["dark"===e&&(0,n.jsx)(a.J8Y,{color:u,onClick:t,className:"cursor-pointer",size:24}),"light"===e&&(0,n.jsx)(a.ELD,{onClick:r,className:"text-gray-500 cursor-pointer",size:24})]})}},61052:function(e,t,r){"use strict";var n=r(9268);r(86006);var l=r(22450);t.Z=e=>{let{children:t}=e,{mode:r}=(0,l.Z)();return(0,n.jsx)("div",{className:"flex items-center \n    justify-center min-h-screen h-full p-5\n    ".concat("light"===r?"bg-white":" bg-[#121212] transition-colors duration-500"),children:(0,n.jsx)("div",{className:"w-[400px] max-w-[90%] flex flex-col items-center gap-10 border-2 p-2 rounded-3xl",children:t})})}},3708:function(e,t,r){"use strict";r.r(t);var n=r(9268),l=r(86006),o=r(61052),a=r(56008),s=r(3338),c=r(12801),u=r(43744),i=r(22450),d=r(68919),f=r(50447),p=r(41557),x=r(32131);t.default=()=>{let e=(0,a.useRouter)(),{mode:t}=(0,i.Z)(),r=(0,a.useParams)(),m=r.email,h=m.replaceAll("%40","@"),[g,v]=(0,l.useState)(!1),[y,b]=(0,l.useState)(!1),[N,w]=(0,l.useState)(59),[I,j]=(0,l.useState)(1),C=(0,l.useRef)(null),[k,E]=(0,l.useState)(!0),{company:Z}=(0,x.Z)(),O=null==Z?void 0:Z.color.primary,S=null==Z?void 0:Z.color.primaryLight,[L,P]=(0,l.useState)(!1),[z,R]=(0,l.useState)(!1);(0,l.useEffect)(()=>(k&&(C.current=window.setInterval(()=>{0===N&&0===I?(clearInterval(C.current),E(!1),j(5),w(59)):0===N?(w(59),j(e=>e-1)):w(e=>e-1)},1e3)),()=>{C.current&&clearInterval(C.current)}),[N,I,k]);let _=(0,l.useRef)(null),M=(0,l.useRef)(null),A=(0,l.useRef)(null),D=(0,l.useRef)(null),F=(0,l.useRef)(null),W=(0,l.useRef)(null),[U,B]=(0,l.useState)({firstInput:"",secondInput:"",thirdInput:"",fourthInput:"",fifthInput:"",sixthInput:""}),J="".concat(U.firstInput).concat(U.secondInput).concat(U.thirdInput).concat(U.fourthInput).concat(U.fifthInput).concat(U.sixthInput),T=async()=>{try{if(v(!0),J.length<6)throw Error("OTP code must be 6");let{data:t}=await f.Z.post("/api/users/forgot-password/confirm-otp",{email:h,otp:J});if(t.error)throw Error(t.error);e.push("/forgot-password/new-password/".concat(t.email,"/").concat(t.otp))}catch(e){d.Am.error(e.message),v(!1)}},V=async()=>{try{if(k)throw Error("Please wait for ".concat(I,"mins and ").concat(N,"secs before resending"));b(!0);let{data:e}=await f.Z.post("/api/users/forgot-password",{email:h});if(e.error)throw Error(e.error);d.Am.success("We sent a new code to your email. check your Inbox or spam folder",{duration:1e4})}catch(e){d.Am.error(e.message)}finally{b(!1),E(!0)}};return(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(u.Z,{}),(0,n.jsxs)("div",{className:"flex flex-col items-center gap-3 w-full",children:[(0,n.jsx)("div",{className:"font-bold text-2xl md:text-3xl \n        ".concat("light"===t?"text-slate-700":"text-white"),children:"Password reset"}),(0,n.jsxs)("div",{className:" text-lg text-center font-medium \n        ".concat("light"===t?"text-gray-500":"text-gray-300"),children:[(0,n.jsx)("span",{children:"We sent a code to "}),(0,n.jsx)("span",{className:"font-bold",children:h})]})]}),(0,n.jsxs)("div",{className:"flex flex-col items-center gap-3 w-full",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between  w-full flex-wrap",children:[(0,n.jsx)("input",{style:{borderColor:""!==U.firstInput?S:""},onChange:e=>{if(!isNaN(Number(e.target.value))&&" "!==e.target.value){if(B({...U,firstInput:e.target.value}),""===e.target.value)_.current&&(_.current.focus(),_.current.selectionEnd=U.firstInput.length,_.current.selectionStart=U.firstInput.length);else{var t;null===(t=M.current)||void 0===t||t.focus()}}},ref:_,value:U.firstInput,maxLength:1,type:"tel",className:"w-[50px] h-[50px] rounded-md \n            border-2 outline-none text-center \n            text-slate-600 text-3xl"}),(0,n.jsx)("input",{style:{borderColor:""!==U.secondInput?S:""},onChange:e=>{var t,r;isNaN(Number(e.target.value))||" "===e.target.value||(B({...U,secondInput:e.target.value}),""===e.target.value?null===(t=_.current)||void 0===t||t.focus():null===(r=A.current)||void 0===r||r.focus())},ref:M,value:U.secondInput,maxLength:1,type:"tel",className:"w-[50px] h-[50px] rounded-md \n            border-2 outline-none text-center \n            text-slate-600 text-3xl"}),(0,n.jsx)("input",{style:{borderColor:""!==U.thirdInput?S:""},onChange:e=>{var t,r;isNaN(Number(e.target.value))||" "===e.target.value||(B({...U,thirdInput:e.target.value}),""===e.target.value?null===(t=M.current)||void 0===t||t.focus():null===(r=D.current)||void 0===r||r.focus())},ref:A,value:U.thirdInput,maxLength:1,type:"tel",className:"w-[50px] h-[50px] rounded-md \n            border-2 outline-none text-center \n            text-slate-600 text-3xl"}),(0,n.jsx)("input",{style:{borderColor:""!==U.fourthInput?S:""},onChange:e=>{var t,r;isNaN(Number(e.target.value))||" "===e.target.value||(B({...U,fourthInput:e.target.value}),""===e.target.value?null===(t=A.current)||void 0===t||t.focus():null===(r=F.current)||void 0===r||r.focus())},ref:D,value:U.fourthInput,maxLength:1,type:"tel",className:"w-[50px] h-[50px] rounded-md \n            border-2 outline-none text-center \n            text-slate-600 text-3xl"}),(0,n.jsx)("input",{style:{borderColor:""!==U.fifthInput?S:""},onChange:e=>{var t,r;isNaN(Number(e.target.value))||" "===e.target.value||(B({...U,fifthInput:e.target.value}),""===e.target.value?null===(t=D.current)||void 0===t||t.focus():null===(r=W.current)||void 0===r||r.focus())},ref:F,value:U.fifthInput,maxLength:1,type:"tel",className:"w-[50px] h-[50px] rounded-md \n            border-2 outline-none text-center \n            text-slate-600 text-3xl"}),(0,n.jsx)("input",{style:{borderColor:""!==U.sixthInput?S:""},onChange:e=>{var t,r;isNaN(Number(e.target.value))||" "===e.target.value||(B({...U,sixthInput:e.target.value}),""===e.target.value?null===(t=F.current)||void 0===t||t.focus():null===(r=W.current)||void 0===r||r.focus())},ref:W,value:U.sixthInput,maxLength:1,type:"tel",className:"w-[50px] h-[50px] rounded-md \n            border-2 outline-none text-center \n            text-slate-600 text-3xl"})]}),(0,n.jsx)(s.Z,{loading:g,label:"Continue",onClick:T})]}),(0,n.jsxs)("div",{className:"text-center text-sm font-medium \n        ".concat(y&&"flex items-center gap-2"," \n      ").concat("light"===t?"text-gray-500":"text-gray-300"),children:[(0,n.jsx)("span",{children:"Didn't receive the email? "}),!y&&(0,n.jsxs)("span",{style:{color:z?O:"light"===t?"#334155":"#e2e8f0"},onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),onClick:V,className:"underline font-semibold sm:cursor-pointer  select-none",children:["Click to resend"," ",k&&(0,n.jsxs)("span",{children:["after ",I,"min:",N,"sec"]})]}),y&&(0,n.jsx)(p.a,{color:"#fb7185"})]}),(0,n.jsxs)("div",{style:{color:L?O:"light"===t?"#334155":"#e2e8f0"},onMouseEnter:()=>P(!0),onMouseLeave:()=>P(!1),onClick:()=>e.push("/login"),className:"sm:cursor-pointer active:scale-[.95] \n        duration-200 select-none text-center \n        flex items-center gap-2 \n        text-sm font-semibold",children:[(0,n.jsx)(c.x_l,{})," Back to log in"]})]})}},32131:function(e,t,r){"use strict";var n=r(82561);let l=(0,n.Ue)(e=>({company:null,onCompany:t=>e({company:t})}));t.Z=l},22450:function(e,t,r){"use strict";var n=r(82561);let l=()=>{let e=localStorage.getItem("theme-mode");return e&&"light"!==e?"dark":"light"},o=()=>(localStorage.setItem("theme-mode","dark"),{mode:"dark"}),a=()=>(localStorage.setItem("theme-mode","light"),{mode:"light"}),s=(0,n.Ue)(e=>({mode:"light",onDarkMode:()=>e(o),onLightMode:()=>e(a),onInitialMode:()=>e({mode:l()})}));t.Z=s},56008:function(e,t,r){e.exports=r(8170)},83270:function(e,t,r){"use strict";r.d(t,{w_:function(){return c}});var n=r(86006),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=n.createContext&&n.createContext(l),a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},s=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,n=Object.getOwnPropertySymbols(e);l<n.length;l++)0>t.indexOf(n[l])&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(r[n[l]]=e[n[l]]);return r};function c(e){return function(t){return n.createElement(u,a({attr:a({},e.attr)},t),function e(t){return t&&t.map(function(t,r){return n.createElement(t.tag,a({key:r},t.attr),e(t.child))})}(e.child))}}function u(e){var t=function(t){var r,l=e.attr,o=e.size,c=e.title,u=s(e,["attr","size","title"]),i=o||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,u,{className:r,style:a(a({color:e.color||t.color},t.style),e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),c&&n.createElement("title",null,c),e.children)};return void 0!==o?n.createElement(o.Consumer,null,function(e){return t(e)}):t(l)}}},function(e){e.O(0,[3296,5852,2815,1114,9253,2961,1744],function(){return e(e.s=118)}),_N_E=e.O()}]);