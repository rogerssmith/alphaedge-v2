(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2970],{62664:function(e,t,l){Promise.resolve().then(l.bind(l,9603))},9603:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return p}});var a=l(9268),n=l(3338),i=l(17915),r=l(50447),s=l(56008),o=l(86006),c=l(68919),d=e=>{let{opened:t,onClose:l,planId:d}=e,[u,m]=(0,o.useState)(!1),x=(0,s.useRouter)(),h=async()=>{try{m(!0);let e=await r.Z.delete("/api/plan/".concat(d));if(e.data.error)throw Error(e.data.error);l(),x.push("/admin/settings/plans")}catch(e){c.Am.error(e.message)}finally{m(!1)}};return(0,a.jsx)(i.Z,{title:"Delete Plan",opened:t,onClose:l,children:(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("div",{children:"Are you sure you want to delete this Plan?"}),(0,a.jsxs)("div",{className:"flex justify-between gap-3",children:[(0,a.jsx)(n.Z,{outline:!0,loading:u,label:"Yes",onClick:h}),(0,a.jsx)(n.Z,{label:"Cancel",onClick:l})]})]})})},u=l(88001),m=l(54571),x=e=>{let{opened:t,onClose:l,getPlan:s,planId:d,planName:x,minAmount:h,maxAmount:f,ROIDaily:g,totalROI:j,duration:p}=e,[v,b]=(0,o.useState)(!1),[y,w]=(0,o.useState)({planName:x,duration:p.toString(),minAmount:h.toString(),maxAmount:f.toString(),ROIDaily:g.toString(),totalROI:j.toString()}),N=(0,o.useMemo)(()=>(0,m.h)(Number(y.totalROI)/Number(y.duration))?(Number(y.totalROI)/Number(y.duration)).toFixed(1):"",[y.duration,y.totalROI]);(0,o.useEffect)(()=>{w({...y,ROIDaily:N})},[N]);let C=async()=>{try{if(+y.minAmount>+y.maxAmount)throw Error("Minimum Amount cannot be greater than Maximum Amount");b(!0);let e=await r.Z.patch("/api/plan/".concat(d),y);if(e.data.error)throw Error(e.data.error);l(),s()}catch(e){c.Am.error(e.message)}finally{b(!1)}};return(0,a.jsx)(i.Z,{size:"lg",title:"Edit Package",opened:t,onClose:l,children:(0,a.jsxs)("div",{className:"flex flex-col justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,a.jsx)("div",{children:"Package Name:"}),(0,a.jsx)(u.Z,{value:y.planName,onChange:e=>w({...y,planName:e.target.value})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,a.jsx)("div",{children:"Duration (days):"}),(0,a.jsx)(u.Z,{value:y.duration,onChange:e=>{(0,m.h)(+e.target.value)&&w({...y,duration:e.target.value})}})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex flex-col w-full gap-1.5",children:[(0,a.jsx)("div",{children:"Total ROI (%):"}),(0,a.jsx)(u.Z,{value:y.totalROI,onChange:e=>{(0,m.h)(+e.target.value)&&w({...y,totalROI:e.target.value})}})]}),(0,a.jsxs)("div",{className:"flex flex-col w-full gap-1.5",children:[(0,a.jsx)("div",{children:"Daily ROI (%):"}),(0,a.jsx)(u.Z,{value:y.ROIDaily,disabled:!0,onChange:()=>{}})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex flex-col w-full gap-1.5",children:[(0,a.jsx)("div",{children:"Minimum Deposit ($):"}),(0,a.jsx)(u.Z,{value:y.minAmount,onChange:e=>{(0,m.h)(+e.target.value)&&w({...y,minAmount:e.target.value})}})]}),(0,a.jsxs)("div",{className:"flex flex-col w-full gap-1.5",children:[(0,a.jsx)("div",{children:"Maximum Deposit ($):"}),(0,a.jsx)(u.Z,{value:y.maxAmount,onChange:e=>{(0,m.h)(+e.target.value)&&w({...y,maxAmount:e.target.value})}})]})]}),(0,a.jsx)(n.Z,{loading:v,label:"Update",onClick:C})]})})},h=l(32131),f=l(22450),g=l(81565),j=l(41557),p=()=>{let{mode:e}=(0,f.Z)(),t=(0,s.useParams)().planId,[l,i]=(0,o.useState)(),[u,m]=(0,o.useState)(!1),[p,v]=(0,o.useState)(!1),{company:b}=(0,h.Z)(),y=null==b?void 0:b.color.primaryLight,w=null==b?void 0:b.currency.symbol,N=new Date("".concat(null==l?void 0:l.createdAt)),C=(0,o.useCallback)(async()=>{try{let{data:e}=await r.Z.get("/api/plan/".concat(t));if(e.error)throw Error(e.error);i(e)}catch(e){c.Am.error(e.message)}},[t]);return((0,o.useEffect)(()=>{t&&C()},[t,C]),l)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex justify-center pb-7",children:(0,a.jsxs)("div",{className:"w-[500px] max-w-full p-5 \n        rounded-md shadow-md transition \n        flex flex-col items-center gap-7\n         ".concat("light"===e?"shadow-gray-200 hover:shadow-gray-300":" shadow-[#292929] hover:shadow-[#585858]"," "),children:[(0,a.jsx)("div",{className:"font-bold text-lg",children:l.planName}),(0,a.jsxs)("div",{className:"flex flex-col w-full gap-3",children:[(0,a.jsxs)("div",{className:"w-full flex justify-between items-center py-4 border-b",children:[(0,a.jsxs)("div",{children:["Mini Deposit (",w,"):"]}),(0,a.jsx)("div",{children:l.minAmount})]}),(0,a.jsxs)("div",{className:"w-full flex justify-between items-center py-4 border-b",children:[(0,a.jsxs)("div",{children:["Max Deposit (",w,"):"]}),(0,a.jsx)("div",{children:l.maxAmount})]}),(0,a.jsxs)("div",{className:"w-full flex justify-between items-center py-4 border-b",children:[(0,a.jsx)("div",{children:"Total ROI (%):"}),(0,a.jsx)("div",{children:l.totalROI})]}),(0,a.jsxs)("div",{className:"w-full flex justify-between items-center py-4 border-b",children:[(0,a.jsx)("div",{children:"ROI Daily (%):"}),(0,a.jsx)("div",{children:l.ROIDaily})]}),(0,a.jsxs)("div",{className:"w-full flex justify-between items-center py-4 border-b",children:[(0,a.jsx)("div",{children:"Duration (days):"}),(0,a.jsx)("div",{children:l.duration})]}),(0,a.jsxs)("div",{className:"w-full flex justify-between items-center py-4 border-b",children:[(0,a.jsx)("div",{children:"Created At:"}),(0,a.jsx)("div",{children:(0,g.Z)(N)})]}),(0,a.jsxs)("div",{className:"flex w-full justify-between gap-3",children:[(0,a.jsx)(n.Z,{outline:!0,label:"Delete",onClick:()=>m(!0)}),(0,a.jsx)(n.Z,{label:"Edit",onClick:()=>v(!0)})]})]})]})}),(0,a.jsx)(d,{opened:u,onClose:()=>m(!1),planId:l._id}),(0,a.jsx)(x,{getPlan:C,opened:p,onClose:()=>v(!1),planId:l._id,planName:l.planName,minAmount:l.minAmount,maxAmount:l.maxAmount,ROIDaily:l.ROIDaily,totalROI:l.totalROI,duration:l.duration})]}):(0,a.jsx)("div",{className:"flex w-full justify-center",children:(0,a.jsx)(j.a,{color:y})})}},3338:function(e,t,l){"use strict";var a=l(9268),n=l(41557);l(86006);var i=l(32131);t.Z=e=>{let{label:t,onClick:l,disabled:r,outline:s,small:o,icon:c,loading:d,type:u,primaryColor:m}=e,{company:x}=(0,i.Z)();return null!=m||null==x||x.color.primary,null==x||x.color.primaryVeryLight,(0,a.jsxs)("button",{type:u,style:{backgroundColor:"#9D00FF"},onClick:l,disabled:r||d,className:"relative disabled:opacity-70 disabled:cursor-not-allowed \n      rounded-lg hover:opacity-80 transition \n      w-full disabled:active:scale-[1] active:scale-[.95] \n      flex justify-center items-center gap-2 \n      ".concat(s?"text-slate-700":"text-white"," \n      ").concat(o?"h-[40px]":"h-[55px]"," \n      ").concat(o?"text-sm":" text-base"," \n      ").concat(o?"font-light":"font-semibold"," \n      ").concat(o?"border-[1px]":"border-2"),children:[!d&&t,c&&!d&&(0,a.jsx)(c,{size:24}),d&&(0,a.jsx)(n.a,{size:24,color:s?m:"#ffff"})]})}},88001:function(e,t,l){"use strict";var a=l(9268),n=l(86006),i=l(32131);t.Z=e=>{let{maxLength:t,disabled:l,value:r,onChange:s,secureEntry:o,placeholder:c,icon:d,iconAction:u,id:m}=e,[x,h]=(0,n.useState)(!1),{company:f}=(0,i.Z)();null==f||f.color.primary,null==f||f.color.primaryLight;let g=null==f?void 0:f.color.primaryVeryLight;return(0,a.jsxs)("div",{style:{backgroundColor:"white",borderColor:g},"aria-disabled":!0,className:"flex justify-between w-full \n    items-center px-3 rounded-lg border \n    ".concat(l&&"bg-gray-100 cursor-not-allowed"),children:[(0,a.jsx)("input",{maxLength:t,onFocus:()=>h(!0),onBlur:()=>h(!1),disabled:l,id:m,type:o?"password":"text",placeholder:c,value:r,onChange:s,className:"py-4 outline-none w-full \n        h-full pr-2 bg-inherit \n        text-gray-500 font-semibold \n        disabled:cursor-not-allowed"}),d&&(0,a.jsx)(d,{onClick:u,size:24,className:"cursor-pointer text-gray-600"})]})}},32131:function(e,t,l){"use strict";var a=l(82561);let n=(0,a.Ue)(e=>({company:null,onCompany:t=>e({company:t})}));t.Z=n},22450:function(e,t,l){"use strict";var a=l(82561);let n=()=>{let e=localStorage.getItem("theme-mode");return e&&"light"!==e?"dark":"light"},i=()=>(localStorage.setItem("theme-mode","dark"),{mode:"dark"}),r=()=>(localStorage.setItem("theme-mode","light"),{mode:"light"}),s=(0,a.Ue)(e=>({mode:"light",onDarkMode:()=>e(i),onLightMode:()=>e(r),onInitialMode:()=>e({mode:n()})}));t.Z=s},17915:function(e,t,l){"use strict";var a=l(9268),n=l(40931);l(86006);var i=l(22450);t.Z=e=>{let{opened:t,onClose:l,size:r,title:s,children:o,fullScreen:c}=e,{mode:d}=(0,i.Z)();return(0,a.jsx)(n.u,{fullScreen:c,opened:t,onClose:l,title:s,centered:!0,size:r||"md",classNames:{header:"".concat("light"===d?"bg-white text-slate-700":"bg-[#121212] text-white"),body:"".concat("light"===d?"bg-white":"bg-[#121212]"),content:"".concat("light"===d?"text-slate-700":"text-white"),title:"font-semibold text-lg text-black"},children:o})}},81565:function(e,t){"use strict";t.Z=e=>{let t=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0,year:"2-digit"}).format(e);return t}},54571:function(e,t,l){"use strict";function a(e){return"number"==typeof e&&Number.isFinite(e)}l.d(t,{h:function(){return a}})},56008:function(e,t,l){e.exports=l(8170)}},function(e){e.O(0,[2815,1114,931,9253,2961,1744],function(){return e(e.s=62664)}),_N_E=e.O()}]);