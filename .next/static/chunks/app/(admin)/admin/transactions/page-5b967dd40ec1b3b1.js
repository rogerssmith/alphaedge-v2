(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8651],{70721:function(e,t,n){"use strict";n.d(t,{M:function(){return i}});var r=n(86006),o=n(51238);let a=r["useId".toString()]||(()=>void 0);var l=n(33613);function i(e){let t=function(){let e=a();return e?`mantine-${e.replace(/:/g,"")}`:""}(),[n,i]=(0,r.useState)(t);return((0,o.Y)(()=>{i((0,l.k)())},[]),"string"==typeof e)?e:"undefined"==typeof window?t:n}},51238:function(e,t,n){"use strict";n.d(t,{Y:function(){return o}});var r=n(86006);let o="undefined"!=typeof document?r.useLayoutEffect:r.useEffect},67830:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var r=n(86006);function o(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){let[o,a]=(0,r.useState)(n?t:"boolean"==typeof t?t:!!("undefined"!=typeof window&&"matchMedia"in window)&&window.matchMedia(e).matches),l=(0,r.useRef)();return(0,r.useEffect)(()=>{if("matchMedia"in window)return l.current=window.matchMedia(e),a(l.current.matches),function(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch(n){return e.addListener(t),()=>e.removeListener(t)}}(l.current,e=>a(e.matches))},[e]),o}},46896:function(e,t,n){"use strict";n.d(t,{l:function(){return o},Y:function(){return a}});var r=n(86006);function o(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):"object"==typeof e&&null!==e&&"current"in e&&(e.current=t)})}}function a(...e){return(0,r.useCallback)(o(...e),e)}},80277:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(67830);function o(e,t){return(0,r.a)("(prefers-reduced-motion: reduce)",e,t)}},4676:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var r=n(86006);function o({value:e,defaultValue:t,finalValue:n,onChange:o=()=>{}}){let[a,l]=(0,r.useState)(void 0!==t?t:n);return void 0!==e?[e,o,!0]:[a,e=>{l(e),null==o||o(e)},!1]}},33613:function(e,t,n){"use strict";function r(){return`mantine-${Math.random().toString(36).slice(2,11)}`}n.d(t,{k:function(){return r}})},60072:function(e,t,n){"use strict";n.d(t,{k:function(){return m}});var r=n(59551),o=n(43764),a=Object.defineProperty,l=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))i.call(t,n)&&c(e,n,t[n]);if(l)for(var n of l(t))s.call(t,n)&&c(e,n,t[n]);return e};function d(e,t){return t&&Object.keys(t).forEach(n=>{e[n]?e[n]=u(u({},e[n]),t[n]):e[n]=u({},t[n])}),e}function f(e,t,n,r){let o=e=>"function"==typeof e?e(t,n||{},r):e||{};return Array.isArray(e)?e.map(e=>o(e.styles)).reduce((e,t)=>d(e,t),{}):o(e)}function m(e){let t="function"==typeof e?e:()=>e;return function(e,n){let a=(0,o.rZ)(),l=(0,o.O2)(null==n?void 0:n.name),i=(0,o.T1)(),s={variant:null==n?void 0:n.variant,size:null==n?void 0:n.size},{css:c,cx:u}=(0,r.Z)(),m=t(a,e,s),h=f(null==n?void 0:n.styles,a,e,s),v=f(l,a,e,s),p=function({ctx:e,theme:t,params:n,variant:r,size:o}){return e.reduce((e,a)=>(a.variants&&r in a.variants&&d(e,a.variants[r](t,n,{variant:r,size:o})),a.sizes&&o in a.sizes&&d(e,a.sizes[o](t,n,{variant:r,size:o})),e),{})}({ctx:l,theme:a,params:e,variant:null==n?void 0:n.variant,size:null==n?void 0:n.size}),b=Object.fromEntries(Object.keys(m).map(e=>{let t=u({[c(m[e])]:!(null==n?void 0:n.unstyled)},c(p[e]),c(v[e]),c(h[e]));return[e,t]}));return{classes:function({cx:e,classes:t,context:n,classNames:r,name:o,cache:a}){let l=n.reduce((e,t)=>(Object.keys(t.classNames).forEach(n=>{"string"!=typeof e[n]?e[n]=`${t.classNames[n]}`:e[n]=`${e[n]} ${t.classNames[n]}`}),e),{});return Object.keys(t).reduce((n,i)=>(n[i]=e(t[i],l[i],null!=r&&r[i],Array.isArray(o)?o.filter(Boolean).map(e=>`${(null==a?void 0:a.key)||"mantine"}-${e}-${i}`).join(" "):o?`${(null==a?void 0:a.key)||"mantine"}-${o}-${i}`:null),n),{})}({cx:u,classes:b,context:l,classNames:null==n?void 0:n.classNames,name:null==n?void 0:n.name,cache:i}),cx:u,theme:a}}}},9262:function(e,t,n){"use strict";function r(e){return`___ref-${e||""}`}n.d(t,{A:function(){return r}})},59269:function(e,t,n){Promise.resolve().then(n.bind(n,98350))},98350:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var r=n(9268),o=n(88001),a=n(69515),l=n(32131),i=n(86006),s=n(80277),c=n(4676),u=n(70721),d=n(51238);let f={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};var m=n(46896),h=n(43764),v=n(2349),p=n(60072),b=n(9262),g=Object.defineProperty,y=Object.defineProperties,x=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,k=(e,t,n)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$=(e,t)=>{for(var n in t||(t={}))j.call(t,n)&&k(e,n,t[n]);if(w)for(var n of w(t))S.call(t,n)&&k(e,n,t[n]);return e},N=(e,t)=>y(e,x(t));let C={xs:`${(0,v.h)(3)} ${(0,v.h)(6)}`,sm:`${(0,v.h)(5)} ${(0,v.h)(10)}`,md:`${(0,v.h)(7)} ${(0,v.h)(14)}`,lg:`${(0,v.h)(9)} ${(0,v.h)(16)}`,xl:`${(0,v.h)(12)} ${(0,v.h)(20)}`};var O=(0,p.k)((e,{fullWidth:t,color:n,radius:r,shouldAnimate:o,transitionDuration:a,transitionTimingFunction:l,orientation:i},{size:s})=>{let c="vertical"===i,u=e.fn.variant({variant:"filled",color:n});return{label:N($($({ref:(0,b.A)("label")},e.fn.focusStyles()),e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",borderRadius:e.fn.radius(r),fontWeight:500,fontSize:s in e.fontSizes?e.fontSizes[s]:e.fontSizes.sm,cursor:"pointer",display:"block",textAlign:"center",padding:C[s in C?s:"sm"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none",color:"dark"===e.colorScheme?e.colors.dark[1]:e.colors.gray[7],transition:`color ${o?0:a}ms ${l||e.transitionTimingFunction}`,"&:hover":{color:"dark"===e.colorScheme?e.colors.dark[0]:e.black},"&[data-disabled]":{"&, &:hover":{color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed",pointerEvents:"none"}},"&[data-active]":{"&, &:hover":{color:n||"dark"===e.colorScheme?e.white:e.black}}}),control:{ref:(0,b.A)("control"),position:"relative",boxSizing:"border-box",flex:1,zIndex:2,transition:`border-left-color ${o?0:a}ms ${l||e.transitionTimingFunction}`,"&:not(:first-of-type)":{borderStyle:"solid",borderWidth:c?`${(0,v.h)(1)} 0 0 0`:`0 0 0 ${(0,v.h)(1)}`,borderColor:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[3]}},input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{outline:"none",[`& + .${(0,b.A)("label")}`]:$({},"always"===e.focusRing||"auto"===e.focusRing?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),"&:focus:not(:focus-visible)":{[`& + .${(0,b.A)("label")}`]:$({},"auto"===e.focusRing||"never"===e.focusRing?e.focusRingStyles.resetStyles(e):null)}},"&:disabled + label":{"&, &:hover":{color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed",pointerEvents:"none"}}},root:{position:"relative",display:t||c?"flex":"inline-flex",width:c&&!t?"max-content":"auto",flexDirection:c?"column":"row",backgroundColor:"dark"===e.colorScheme?e.colors.dark[8]:e.colors.gray[1],borderRadius:e.fn.radius(r),overflow:"hidden",padding:4},controlActive:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important",[`& + .${(0,b.A)("control")}`]:{[c?"borderTopColor":"borderLeftColor"]:"transparent !important"},borderRadius:e.fn.radius(r),boxShadow:o?n||"dark"===e.colorScheme?"none":e.shadows.xs:void 0,backgroundColor:o?n?u.background:"dark"===e.colorScheme?e.colors.dark[5]:e.white:void 0},indicator:{boxSizing:"border-box",borderRadius:e.fn.radius(r),position:"absolute",zIndex:1,boxShadow:n||"dark"===e.colorScheme?"none":e.shadows.xs,transition:`transform ${o?0:a}ms ${e.transitionTimingFunction}, width ${o?0:a/2}ms ${l||e.transitionTimingFunction}`,backgroundColor:n?u.background:"dark"===e.colorScheme?e.colors.dark[5]:e.white}}}),E=n(1600),A=Object.defineProperty,R=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,Z=(e,t,n)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F=(e,t)=>{for(var n in t||(t={}))z.call(t,n)&&Z(e,n,t[n]);if(R)for(var n of R(t))L.call(t,n)&&Z(e,n,t[n]);return e},P=(e,t)=>{var n={};for(var r in e)z.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&R)for(var r of R(e))0>t.indexOf(r)&&L.call(e,r)&&(n[r]=e[r]);return n};let I={disabled:!1,size:"sm",transitionDuration:200},M=(0,i.forwardRef)((e,t)=>{var n,r,o,a;let l=(0,h.N4)("SegmentedControl",I,e),{className:v,disabled:p,data:b,name:g,value:y,onChange:x,color:w,fullWidth:j,radius:S,size:k,transitionDuration:$,transitionTimingFunction:N,classNames:C,styles:A,defaultValue:R,orientation:z,unstyled:L,variant:Z,readOnly:M}=l,T=P(l,["className","disabled","data","name","value","onChange","color","fullWidth","radius","size","transitionDuration","transitionTimingFunction","classNames","styles","defaultValue","orientation","unstyled","variant","readOnly"]),D=(0,h.rZ)(),_=(0,s.J)(),V=!!D.respectReducedMotion&&_,W=b.map(e=>"string"==typeof e?{label:e,value:e}:e),Y=(0,i.useRef)(),[U,B]=(0,i.useState)(!1),[q,J]=(0,c.C)({value:y,defaultValue:R,finalValue:Array.isArray(W)&&null!=(a=null!=(o=null==(n=W.find(e=>!e.disabled))?void 0:n.value)?o:null==(r=W[0])?void 0:r.value)?a:null,onChange:x}),{classes:H,cx:Q}=O({fullWidth:j,color:w,radius:S,shouldAnimate:V||!U,transitionDuration:$,transitionTimingFunction:N,orientation:z},{name:"SegmentedControl",classNames:C,styles:A,unstyled:L,variant:Z,size:k}),[G,K]=(0,i.useState)({width:0,height:0,translate:[0,0]}),X=(0,u.M)(g),ee=(0,i.useRef)({}),[et,en]=function(){let e=(0,i.useRef)(0),t=(0,i.useRef)(null),[n,r]=(0,i.useState)(f),o=(0,i.useMemo)(()=>"undefined"!=typeof window?new ResizeObserver(n=>{let o=n[0];o&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{t.current&&r(o.contentRect)}))}):null,[]);return(0,d.Y)(()=>(t.current&&(o.observe(t.current),r(t.current.getBoundingClientRect())),()=>{o.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[t.current]),[t,n]}();(0,d.Y)(()=>{Y.current?B(!0):(Y.current=!0,B(!1))}),(0,i.useEffect)(()=>{if(q in ee.current&&et.current){let e=ee.current[q],t=e.getBoundingClientRect(),n=e.offsetWidth/t.width,r=t.width*n||0,o=t.height*n||0,a=en.width-e.parentElement.offsetLeft+4-r,l=e.parentElement.offsetLeft-4;K({width:r,height:o,translate:["rtl"===D.dir?a:l,e.parentElement.offsetTop-4]})}},[q,en]);let er=W.map(e=>i.createElement("div",{className:Q(H.control,{[H.controlActive]:q===e.value}),key:e.value},i.createElement("input",{className:H.input,disabled:p||e.disabled,type:"radio",name:X,value:e.value,id:`${X}-${e.value}`,checked:q===e.value,onChange:()=>!M&&J(e.value)}),i.createElement("label",{className:H.label,"data-active":q===e.value&&!(p||e.disabled)||void 0,"data-disabled":p||e.disabled||void 0,htmlFor:`${X}-${e.value}`,ref:t=>{ee.current[e.value]=t}},e.label))),eo=(0,m.Y)(et,t);return 0===W.length?null:i.createElement(E.x,F({className:Q(H.root,v),ref:eo},T),"string"==typeof q&&U&&i.createElement(E.x,{component:"span",className:H.indicator,sx:{width:G.width,height:G.height,transform:`translate(${G.translate[0]}px, ${G.translate[1]}px)`}}),er)});M.displayName="@mantine/core/SegmentedControl";var T=n(41557),D=n(67830),_=n(50447),V=n(34751),W=n(68919),Y=n(1033),U=n(12801),B=()=>{var e;let[t,n]=(0,i.useState)([]),[s,c]=(0,i.useState)(!1),{data:u}=(0,V.useSession)(),d=null===(e=null==u?void 0:u.user)||void 0===e?void 0:e.id,[f,m]=(0,i.useState)("all"),h=(0,D.a)("(min-width: 56.25em)"),[v,p]=(0,i.useState)(""),[b,g]=(0,i.useState)(t),{company:y}=(0,l.Z)(),x=null==y?void 0:y.color.primaryLight,w=(0,i.useCallback)(e=>{let n=e.target.value;p(n);let r=t.slice(0),o=r.filter(e=>e.title.toLowerCase().includes(n.toLowerCase())||e.status.toLowerCase().includes(n.toLowerCase()));g(o)},[t]),j=(0,i.useCallback)(async()=>{try{c(!0);let{data:e}=await _.Z.get("/api/admin/transactions/".concat(d));if(e.error)throw console.log(e.error),Error("Something went wrong");n(e.reverse())}catch(e){W.Am.error(e.message)}finally{c(!1)}},[d]);return(0,i.useEffect)(()=>{d&&j()},[d,j]),(0,i.useEffect)(()=>{g(t)},[t]),(0,r.jsxs)("div",{className:"flex flex-col w-full gap-10",children:[(0,r.jsxs)("div",{className:"text-xl sm:text-2xl font-bold \n        flex justify-center",children:["Transactions (",t.length,")"]}),(0,r.jsx)("div",{className:"flex justify-center w-full",children:(0,r.jsx)(M,{fullWidth:!0,orientation:h?"horizontal":"vertical",color:"dark",value:f,onChange:e=>{m(e);let n=t.slice(0);if("all"===e)g(n);else{let t=n.filter(t=>t.status===e);g(t)}},data:[{label:"All",value:"all"},{label:"Successful",value:"successful"},{label:"Pending",value:"pending"},{label:"Processing (For admin)",value:"processing"},{label:"Action Needed",value:"action-needed"},{label:"Rejected",value:"rejected"}]})}),(0,r.jsx)("div",{className:"flex justify-center w-full",children:(0,r.jsx)("div",{className:"w-[80%] sm:w-[50%]",children:(0,r.jsx)(o.Z,{icon:U.U41,value:v,onChange:w,placeholder:"Search Transactions"})})}),(0,r.jsxs)("div",{className:"flex gap-3 items-center  flex-wrap justify-center",children:[b.map(e=>(0,r.jsx)(a.Z,{title:e.title,amount:e.amount,status:e.status,category:e.category,senderName:e.senderName,id:e._id,createdAt:e.createdAt},e._id)),!s&&b.length<=0&&(0,r.jsxs)("div",{className:"flex justify-center flex-col items-center",children:[(0,r.jsx)(Y.kuQ,{color:x,size:100}),(0,r.jsx)("div",{className:"font-semibold text-lg",children:"No Availaible transactions"})]}),s&&b.length<=0&&(0,r.jsx)(T.a,{color:x})]})]})}},3338:function(e,t,n){"use strict";var r=n(9268),o=n(41557);n(86006);var a=n(32131);t.Z=e=>{let{label:t,onClick:n,disabled:l,outline:i,small:s,icon:c,loading:u,type:d,primaryColor:f}=e,{company:m}=(0,a.Z)();return null!=f||null==m||m.color.primary,null==m||m.color.primaryVeryLight,(0,r.jsxs)("button",{type:d,style:{backgroundColor:"#9D00FF"},onClick:n,disabled:l||u,className:"relative disabled:opacity-70 disabled:cursor-not-allowed \n      rounded-lg hover:opacity-80 transition \n      w-full disabled:active:scale-[1] active:scale-[.95] \n      flex justify-center items-center gap-2 \n      ".concat(i?"text-slate-700":"text-white"," \n      ").concat(s?"h-[40px]":"h-[55px]"," \n      ").concat(s?"text-sm":" text-base"," \n      ").concat(s?"font-light":"font-semibold"," \n      ").concat(s?"border-[1px]":"border-2"),children:[!u&&t,c&&!u&&(0,r.jsx)(c,{size:24}),u&&(0,r.jsx)(o.a,{size:24,color:i?f:"#ffff"})]})}},88001:function(e,t,n){"use strict";var r=n(9268),o=n(86006),a=n(32131);t.Z=e=>{let{maxLength:t,disabled:n,value:l,onChange:i,secureEntry:s,placeholder:c,icon:u,iconAction:d,id:f}=e,[m,h]=(0,o.useState)(!1),{company:v}=(0,a.Z)();null==v||v.color.primary,null==v||v.color.primaryLight;let p=null==v?void 0:v.color.primaryVeryLight;return(0,r.jsxs)("div",{style:{backgroundColor:"white",borderColor:p},"aria-disabled":!0,className:"flex justify-between w-full \n    items-center px-3 rounded-lg border \n    ".concat(n&&"bg-gray-100 cursor-not-allowed"),children:[(0,r.jsx)("input",{maxLength:t,onFocus:()=>h(!0),onBlur:()=>h(!1),disabled:n,id:f,type:s?"password":"text",placeholder:c,value:l,onChange:i,className:"py-4 outline-none w-full \n        h-full pr-2 bg-inherit \n        text-gray-500 font-semibold \n        disabled:cursor-not-allowed"}),u&&(0,r.jsx)(u,{onClick:d,size:24,className:"cursor-pointer text-gray-600"})]})}},69515:function(e,t,n){"use strict";var r=n(9268);n(32233);var o=n(22450),a=n(56008);n(86006);var l=n(19799),i=n(81565),s=n(29577),c=n(3338),u=n(84821),d=n(32131);t.Z=e=>{let{mode:t}=(0,o.Z)(),{push:n}=(0,a.useRouter)(),{title:f,amount:m,status:h,category:v,createdAt:p,senderName:b,id:g}=e,y=p&&new Date(p),x=(0,i.Z)(y),{company:w}=(0,d.Z)(),j=null==w?void 0:w.color.primaryLight,S=null==w?void 0:w.currency.symbol;return(0,r.jsxs)("div",{className:"max-w-[250px] w-[90%] h-[300px] \n    shadow-md rounded-md p-5 \n    transition-all duration-300 hover:scale-105 \n    hover:shadow-lg flex flex-col items-center \n    gap-3 justify-center\n    ".concat("light"===t?"shadow-[#d9d9d9] hover:shadow-[#c1c1c1]":"shadow-[#5d5d5d] hover:shadow-[#7b7b7b]"),children:[(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)(s.q,{color:"red",alt:"its me",size:"lg",radius:"xl",children:(0,r.jsx)(u.Mu3,{color:j})}),(0,r.jsxs)("div",{className:"font-normal italic text-sm \n          ".concat("pending"===h&&"text-[#2196f3]"," \n          ").concat("successful"===h&&"text-[#00c853]"," \n          ").concat("processing"===h&&"text-[#ff9800]"," \n          ").concat("action-needed"===h&&"text-rose-400"," \n          ").concat("rejected"===h&&"text-[#f44336]"),children:["pending"===h&&"Pending...","successful"===h&&"Successful","processing"===h&&"Processing...","action-needed"===h&&"Action Needed","rejected"===h&&"Rejected"]})]}),(0,r.jsxs)("div",{children:[S,(0,l.Z)(+m)]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1.5 text-center items-center justify-center",children:[(0,r.jsx)("div",{className:"font-semibold\n            ".concat("light"===t?"text-gray-500":"text-white"),children:f}),(0,r.jsx)("div",{className:"font-semibold text-sm text-gray-300",children:"".concat(x," . ").concat("money-received"===v?b:"")})]}),(0,r.jsx)(c.Z,{onClick:()=>n("/admin/transactions/".concat(g)),label:"View Details"})]})}},32131:function(e,t,n){"use strict";var r=n(82561);let o=(0,r.Ue)(e=>({company:null,onCompany:t=>e({company:t})}));t.Z=o},22450:function(e,t,n){"use strict";var r=n(82561);let o=()=>{let e=localStorage.getItem("theme-mode");return e&&"light"!==e?"dark":"light"},a=()=>(localStorage.setItem("theme-mode","dark"),{mode:"dark"}),l=()=>(localStorage.setItem("theme-mode","light"),{mode:"light"}),i=(0,r.Ue)(e=>({mode:"light",onDarkMode:()=>e(a),onLightMode:()=>e(l),onInitialMode:()=>e({mode:o()})}));t.Z=i},81565:function(e,t){"use strict";t.Z=e=>{let t=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0,year:"2-digit"}).format(e);return t}},19799:function(e,t){"use strict";t.Z=e=>e.toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:2})},32233:function(){}},function(e){e.O(0,[3296,9173,5625,2815,1114,4751,4941,5478,9253,2961,1744],function(){return e(e.s=59269)}),_N_E=e.O()}]);