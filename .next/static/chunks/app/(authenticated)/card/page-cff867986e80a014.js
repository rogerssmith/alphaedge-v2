(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8093],{821:function(e,t,r){Promise.resolve().then(r.bind(r,58580))},3338:function(e,t,r){"use strict";var l=r(9268),a=r(41557);r(86006);var n=r(32131);t.Z=e=>{let{label:t,onClick:r,disabled:s,outline:o,small:c,icon:i,loading:d,type:u,primaryColor:h}=e,{company:x}=(0,n.Z)();return null!=h||null==x||x.color.primary,null==x||x.color.primaryVeryLight,(0,l.jsxs)("button",{type:u,style:{backgroundColor:"#9D00FF"},onClick:r,disabled:s||d,className:"relative disabled:opacity-70 disabled:cursor-not-allowed \n      rounded-lg hover:opacity-80 transition \n      w-full disabled:active:scale-[1] active:scale-[.95] \n      flex justify-center items-center gap-2 \n      ".concat(o?"text-slate-700":"text-white"," \n      ").concat(c?"h-[40px]":"h-[55px]"," \n      ").concat(c?"text-sm":" text-base"," \n      ").concat(c?"font-light":"font-semibold"," \n      ").concat(c?"border-[1px]":"border-2"),children:[!d&&t,i&&!d&&(0,l.jsx)(i,{size:24}),d&&(0,l.jsx)(a.a,{size:24,color:o?h:"#ffff"})]})}},88001:function(e,t,r){"use strict";var l=r(9268),a=r(86006),n=r(32131);t.Z=e=>{let{maxLength:t,disabled:r,value:s,onChange:o,secureEntry:c,placeholder:i,icon:d,iconAction:u,id:h}=e,[x,m]=(0,a.useState)(!1),{company:g}=(0,n.Z)();null==g||g.color.primary,null==g||g.color.primaryLight;let v=null==g?void 0:g.color.primaryVeryLight;return(0,l.jsxs)("div",{style:{backgroundColor:"white",borderColor:v},"aria-disabled":!0,className:"flex justify-between w-full \n    items-center px-3 rounded-lg border \n    ".concat(r&&"bg-gray-100 cursor-not-allowed"),children:[(0,l.jsx)("input",{maxLength:t,onFocus:()=>m(!0),onBlur:()=>m(!1),disabled:r,id:h,type:c?"password":"text",placeholder:i,value:s,onChange:o,className:"py-4 outline-none w-full \n        h-full pr-2 bg-inherit \n        text-gray-500 font-semibold \n        disabled:cursor-not-allowed"}),d&&(0,l.jsx)(d,{onClick:u,size:24,className:"cursor-pointer text-gray-600"})]})}},58580:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var l=r(9268),a=r(86006),n=r(22450),s=e=>{let{ownerName:t,cardNumber:r,cardExpire:a,cvc:s,onClick:o}=e,{mode:c}=(0,n.Z)();return(0,l.jsxs)("div",{onClick:o,className:"h-[185px] w-[335px] p-[20px]\n  flex-shrink-0 rounded-[20px] flex \n  flex-col justify-between shadow-2xl\n  transition-all duration-500 hover:scale-110 \n  active:scale-100 select-none sm:cursor-pointer\n  ".concat("light"===c?"bg-[url('/card-bg-light.png')] shadow-gray-200 hover:shadow-gray-300":"bg-[url('/card-bg-dark.png')] shadow-[#1d1d1d] hover:shadow-[#585858]"),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("div",{className:"text-base text-white",children:a}),(0,l.jsx)("div",{className:"text-base text-white",children:s})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("div",{className:"text-base text-white",children:t}),(0,l.jsx)("div",{className:"text-base text-white",children:r})]})]})},o=r(3338),c=r(88001),i=r(17915),d=r(50447),u=r(68919),h=e=>{let{opened:t,onClose:r,onAddCard:n}=e,[s,h]=(0,a.useState)(!1),[x,m]=(0,a.useState)({cardNumber:"",expireDate:"",cvc:"",cardholderName:"",country:"",city:"",address:"",zipCode:""}),g=async()=>{try{h(!0);let{data:e}=await d.Z.post("/api/card",x);if(e.error)throw Error(e.error);r(),n()}catch(e){u.Am.error(e.message)}finally{h(!1)}};return(0,l.jsx)(i.Z,{title:"Add card",opened:t,onClose:r,children:(0,l.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:"Card Number"}),(0,l.jsx)(c.Z,{maxLength:25,value:x.cardNumber,onChange:e=>m({...x,cardNumber:function(e){let t=e.replace(/\D/g,""),r=t.replace(/(\d{4}(?!\s))/g,"$1 ");return r.trim()}(e.target.value)}),placeholder:"0000 0000 0000 0000"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:"Expire Date"}),(0,l.jsx)(c.Z,{maxLength:5,value:x.expireDate,onChange:e=>m({...x,expireDate:function(e){let t=e.replace(/\D/g,""),r=t.replace(/^(\d{2})/,"$1/");return r}(e.target.value)}),placeholder:"MM/YY E.g 02/24"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:"CVC"}),(0,l.jsx)(c.Z,{maxLength:4,value:x.cvc,onChange:e=>m({...x,cvc:e.target.value.replace(/\D/g,"")}),placeholder:"000"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:"Cardholder name"}),(0,l.jsx)(c.Z,{value:x.cardholderName,onChange:e=>m({...x,cardholderName:e.target.value}),placeholder:"Name on card E.g John Doe"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:"Country"}),(0,l.jsx)(c.Z,{value:x.country,onChange:e=>m({...x,country:e.target.value}),placeholder:"Enter your country"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:"City/State"}),(0,l.jsx)(c.Z,{value:x.city,onChange:e=>m({...x,city:e.target.value}),placeholder:"E.g New York"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:"Street Address"}),(0,l.jsx)(c.Z,{value:x.address,onChange:e=>m({...x,address:e.target.value}),placeholder:"E.g No. 10 Minivan street"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:"Postalcode/Zipcode"}),(0,l.jsx)(c.Z,{value:x.zipCode,onChange:e=>m({...x,zipCode:e.target.value}),placeholder:"E.g 40032"})]}),(0,l.jsx)(o.Z,{loading:s,label:"Add Card",onClick:g})]})})},x=r(32131),m=r(41557),g=r(34751),v=r(12801),p=()=>{var e;let{mode:t}=(0,n.Z)(),[r,o]=(0,a.useState)(!1),[c,i]=(0,a.useState)([]),[p,f]=(0,a.useState)(!1),{data:y}=(0,g.useSession)(),j=null===(e=null==y?void 0:y.user)||void 0===e?void 0:e.id,{company:b}=(0,x.Z)(),w=null==b?void 0:b.color.primary,N=null==b?void 0:b.color.primaryLight;null==b||b.color.primaryVeryLight;let C=(0,a.useCallback)(async()=>{try{f(!0);let{data:e}=await d.Z.get("/api/card/user/".concat(j));if(e.error)throw Error(e.error);i(e)}catch(e){u.Am.error(e.message)}finally{f(!1)}},[j]);return(0,a.useEffect)(()=>{j&&C()},[C,j]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"rounded-md px-2 sm:px-7 py-10 shadow-lg\n      flex flex-col gap-10\n    ".concat("light"===t?"shadow-gray-200 hover:shadow-gray-300 text-black":" shadow-[#1d1d1d] hover:shadow-[#585858] text-black"," "),children:[(0,l.jsx)("div",{className:"text-xl sm:text-2xl font-bold \n        flex justify-center\n      ".concat("light"===t?"text-slate-700":"text-black"),children:"Cards"}),(0,l.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[!p&&c.length<=0&&(0,l.jsx)(s,{onClick:()=>o(!0),ownerName:"your name",cardNumber:"your - card - num - 0968",cardExpire:"01/34",cvc:"456"}),p&&(0,l.jsx)(m.a,{color:N}),!p&&c.length>0&&c.map(e=>(0,l.jsx)(s,{onClick:()=>{},ownerName:e.cardholderName,cardNumber:e.cardNumber,cardExpire:e.expireDate,cvc:e.cvc},e._id))]}),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center gap-5",children:[(0,l.jsx)("div",{className:"text-center font-semibold\n        ".concat("text-black"),children:c.length<=0?"Add your credit/debit card":"Add New Card"}),(0,l.jsxs)("div",{onClick:()=>o(!0),className:"shadow-md w-[400px] max-w-full \n          rounded-md flex items-center \n          justify-between p-4 gap-3 \n          sm:cursor-pointer select-none active:scale-95 \n          transition-all duration-200\n          ".concat("light"===t?"":"shadow-[#3d3d3d] hover:shadow-[#4f4f4f]"),children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(v.ypE,{color:"light"===t?w:N}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("div",{style:{color:"black"},className:"font-bold text-lg",children:"Link your card"}),(0,l.jsx)("div",{className:"font-semibold text-sm \n              ".concat("text-black"),children:"Withdraw funds directly to your bank"})]})]}),(0,l.jsx)(v.H_v,{color:"light"===t?w:N})]})]})]}),(0,l.jsx)(h,{onAddCard:C,opened:r,onClose:()=>o(!1)})]})}},32131:function(e,t,r){"use strict";var l=r(82561);let a=(0,l.Ue)(e=>({company:null,onCompany:t=>e({company:t})}));t.Z=a},22450:function(e,t,r){"use strict";var l=r(82561);let a=()=>{let e=localStorage.getItem("theme-mode");return e&&"light"!==e?"dark":"light"},n=()=>(localStorage.setItem("theme-mode","dark"),{mode:"dark"}),s=()=>(localStorage.setItem("theme-mode","light"),{mode:"light"}),o=(0,l.Ue)(e=>({mode:"light",onDarkMode:()=>e(n),onLightMode:()=>e(s),onInitialMode:()=>e({mode:a()})}));t.Z=o},17915:function(e,t,r){"use strict";var l=r(9268),a=r(40931);r(86006);var n=r(22450);t.Z=e=>{let{opened:t,onClose:r,size:s,title:o,children:c,fullScreen:i}=e,{mode:d}=(0,n.Z)();return(0,l.jsx)(a.u,{fullScreen:i,opened:t,onClose:r,title:o,centered:!0,size:s||"md",classNames:{header:"".concat("light"===d?"bg-white text-slate-700":"bg-[#121212] text-white"),body:"".concat("light"===d?"bg-white":"bg-[#121212]"),content:"".concat("light"===d?"text-slate-700":"text-white"),title:"font-semibold text-lg text-black"},children:c})}},83270:function(e,t,r){"use strict";r.d(t,{w_:function(){return c}});var l=r(86006),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=l.createContext&&l.createContext(a),s=function(){return(s=Object.assign||function(e){for(var t,r=1,l=arguments.length;r<l;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},o=function(e,t){var r={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(r[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,l=Object.getOwnPropertySymbols(e);a<l.length;a++)0>t.indexOf(l[a])&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(r[l[a]]=e[l[a]]);return r};function c(e){return function(t){return l.createElement(i,s({attr:s({},e.attr)},t),function e(t){return t&&t.map(function(t,r){return l.createElement(t.tag,s({key:r},t.attr),e(t.child))})}(e.child))}}function i(e){var t=function(t){var r,a=e.attr,n=e.size,c=e.title,i=o(e,["attr","size","title"]),d=n||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),l.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,i,{className:r,style:s(s({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&l.createElement("title",null,c),e.children)};return void 0!==n?l.createElement(n.Consumer,null,function(e){return t(e)}):t(a)}}},function(e){e.O(0,[3296,2815,1114,931,4751,9253,2961,1744],function(){return e(e.s=821)}),_N_E=e.O()}]);