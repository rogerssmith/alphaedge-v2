(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5327],{84772:function(e,t,l){Promise.resolve().then(l.bind(l,60640))},60640:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return y}});var n=l(9268),s=l(86006),a=l(3338),r=l(22450),i=l(88001),o=l(32131),c=l(17915),d=l(19799),u=l(50447),m=l(56008),x=l(68919),h=e=>{let{opened:t,onClose:l,user:r}=e,[h,f]=(0,s.useState)(!1),[v,g]=(0,s.useState)(""),p=(0,m.useRouter)(),{company:b}=(0,o.Z)(),w=null==b?void 0:b.currency.symbol,y=async()=>{try{if(""===v||0===Number(v))throw Error("Invalid Input value: Input cannot be 0 or empty");f(!0);let{data:e}=await u.Z.post("/api/invest/withdrawal",{amount:Number(v)});if(e.error)throw Error(e.error);let{_id:t}=e;p.push("/transaction-info/".concat(t))}catch(e){x.Am.error(e.message)}finally{f(!1)}};return(0,n.jsx)(c.Z,{title:"Withdraw",opened:t,onClose:l,children:(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsxs)("div",{children:["Amount that can be withdrawn is ",w,(0,d.Z)(r.investWithdrawableBalance)," ",(0,n.jsx)("br",{})," Note: Money will be added to your account balance."]}),(0,n.jsx)(i.Z,{value:v,onChange:e=>{isNaN(Number(e.target.value))||g(e.target.value)},placeholder:"Enter amount to withdraw"}),(0,n.jsx)(a.Z,{loading:h,label:"Withdraw",onClick:y})]})})},f=l(81565),v=e=>{let{company:t}=(0,o.Z)(),{mode:l}=(0,r.Z)(),{name:s,roiReceived:i,id:c,roiDaily:u,amountInvested:x,status:h,createdAt:v}=e,g=(0,m.useRouter)(),p=new Date("".concat(v)),b=null==t?void 0:t.currency.symbol;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"w-full sm:w-[45%] h-[270px] \n    shadow-md rounded-md p-5 \n    transition-all duration-300 hover:scale-105 \n    hover:shadow-lg flex flex-col items-start \n    gap-4 justify-between\n    ".concat("light"===l?"shadow-[#d9d9d9] hover:shadow-[#c1c1c1]":"shadow-[#5d5d5d] hover:shadow-[#7b7b7b]"),children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"".concat("active"===h?"text-[#48d38a]":"text-rose-500"),children:h}),(0,n.jsxs)("div",{className:"font-bold",children:[s.toUpperCase()," PLAN"]})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,n.jsxs)("div",{className:"font-semibold text-sm flex gap-3",children:[(0,n.jsx)("div",{className:"text-xs",children:"Amount Invested:"}),(0,n.jsxs)("div",{className:"font-semibold text-lg",children:[b,(0,d.Z)(x)]})]}),(0,n.jsxs)("div",{className:"font-semibold text-sm flex gap-3",children:[(0,n.jsx)("div",{className:"text-xs",children:"ROI Recieved:"}),(0,n.jsxs)("div",{className:"font-semibold text-lg",children:[b,(0,d.Z)(i)," (",u,"% daily)"]})]}),(0,n.jsxs)("div",{className:"font-semibold text-sm flex gap-3",children:[(0,n.jsx)("div",{className:"text-xs",children:"Created At:"}),(0,n.jsx)("div",{className:"font-semibold text-lg",children:(0,f.Z)(p)})]})]}),(0,n.jsx)(a.Z,{outline:!0,onClick:()=>g.push("/home/invest-and-earn/".concat(c)),label:"View Details"})]})})},g=l(41557),p=l(1033),b=e=>{let{user:t}=e,{mode:l}=(0,r.Z)(),i=(0,m.useRouter)(),[c,f]=(0,s.useState)(!1),[b,w]=(0,s.useState)([]),[y,j]=(0,s.useState)(!1),{company:N}=(0,o.Z)(),Z=null==N?void 0:N.color.primary,C=null==N?void 0:N.color.primaryLight,k=null==N?void 0:N.currency.symbol,I=(0,s.useCallback)(async()=>{try{j(!0);let e=await u.Z.get("/api/invest");if(e.data.error)throw Error(e.data.error);w(e.data.reverse())}catch(e){x.Am.error(e.message)}finally{j(!1)}},[]);return(0,s.useEffect)(()=>{I()},[I]),(0,n.jsxs)("div",{className:"flex flex-col w-full gap-6 \n    ".concat("light"===l?"text-slate-700":"text-white"),children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-1 w-full justify-between px-3",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-1 w-full sm:items-center",children:[(0,n.jsx)("div",{className:"text-xs font-medium",children:"Investment Balance"}),(0,n.jsxs)("div",{className:"font-bold text-3xl sm:text-4xl  \n          ".concat("light"===l?"text-slate-700":"text-white"),children:[k,(0,d.Z)(t.investBalance)]})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-1 w-full sm:items-center",children:[(0,n.jsx)("div",{className:"text-xs font-medium",children:"Profit Balance"}),(0,n.jsxs)("div",{className:"font-bold text-3xl sm:text-4xl \n          ".concat("light"===l?"text-slate-700":"text-white"),children:[k,(0,d.Z)(t.investProfitBalance)]})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-1 w-full sm:items-center",children:[(0,n.jsx)("div",{className:"text-xs font-medium",children:"Withdrawable Balance"}),(0,n.jsxs)("div",{className:"font-bold text-3xl sm:text-4xl \n          ".concat("light"===l?"text-slate-700":"text-white"),children:[k,(0,d.Z)(t.investWithdrawableBalance)]})]})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(a.Z,{onClick:()=>f(!0),label:"Withdraw"}),(0,n.jsx)(a.Z,{outline:!0,onClick:()=>i.push("/home/invest-and-earn/create"),label:"New Investment"})]}),(0,n.jsxs)("div",{className:"flex flex-wrap justify-between gap-y-5",children:[!y&&b.map(e=>(0,n.jsx)(v,{name:e.planName,roiDaily:e.ROIDaily,amountInvested:e.amountInvested,status:e.status,id:e._id,roiReceived:e.ROIReceived,createdAt:e.createdAt},e._id)),!y&&b.length<=0&&(0,n.jsx)("div",{className:"w-full flex justify-center items-center",children:(0,n.jsxs)("div",{className:"flex justify-center flex-col items-center",children:[(0,n.jsx)(p.kuQ,{color:C,size:100}),(0,n.jsx)("div",{className:"font-semibold text-lg\n              ".concat("light"===l?"text-slate-700":"text-white"),children:"No Availaible Investment"}),(0,n.jsx)(a.Z,{small:!0,outline:!0,onClick:()=>i.push("/home/invest-and-earn/create"),label:"Start New Investment"})]})}),y&&(0,n.jsx)("div",{className:"w-full flex justify-center items-center  min-h-[50vh]",children:(0,n.jsx)(g.a,{color:Z})})]}),(0,n.jsx)(h,{user:t,onClose:()=>f(!1),opened:c})]})},w=l(34751);l(52040);var y=()=>{var e;let{data:t}=(0,w.useSession)(),l=null===(e=null==t?void 0:t.user)||void 0===e?void 0:e.id,[a,i]=(0,s.useState)(),{company:c}=(0,o.Z)(),{mode:d}=(0,r.Z)(),m=null==c?void 0:c.color.primary,h=null==c?void 0:c.color.primaryLight;return((0,s.useEffect)(()=>{let e=async()=>{try{let{data:e}=await (0,u.Z)("/api/users/".concat(l));if(e.error)throw Error(e.error);i(e)}catch(e){x.Am.error(e.message)}};l&&e()},[l]),a)?(0,n.jsx)(b,{user:a}):(0,n.jsx)("div",{className:"flex w-full justify-center items-center  min-h-[60vh]",children:(0,n.jsx)(g.a,{color:"light"===d?m:h})})}},3338:function(e,t,l){"use strict";var n=l(9268),s=l(41557);l(86006);var a=l(32131);t.Z=e=>{let{label:t,onClick:l,disabled:r,outline:i,small:o,icon:c,loading:d,type:u,primaryColor:m}=e,{company:x}=(0,a.Z)();return null!=m||null==x||x.color.primary,null==x||x.color.primaryVeryLight,(0,n.jsxs)("button",{type:u,style:{backgroundColor:"#9D00FF"},onClick:l,disabled:r||d,className:"relative disabled:opacity-70 disabled:cursor-not-allowed \n      rounded-lg hover:opacity-80 transition \n      w-full disabled:active:scale-[1] active:scale-[.95] \n      flex justify-center items-center gap-2 \n      ".concat(i?"text-slate-700":"text-white"," \n      ").concat(o?"h-[40px]":"h-[55px]"," \n      ").concat(o?"text-sm":" text-base"," \n      ").concat(o?"font-light":"font-semibold"," \n      ").concat(o?"border-[1px]":"border-2"),children:[!d&&t,c&&!d&&(0,n.jsx)(c,{size:24}),d&&(0,n.jsx)(s.a,{size:24,color:i?m:"#ffff"})]})}},88001:function(e,t,l){"use strict";var n=l(9268),s=l(86006),a=l(32131);t.Z=e=>{let{maxLength:t,disabled:l,value:r,onChange:i,secureEntry:o,placeholder:c,icon:d,iconAction:u,id:m}=e,[x,h]=(0,s.useState)(!1),{company:f}=(0,a.Z)();null==f||f.color.primary,null==f||f.color.primaryLight;let v=null==f?void 0:f.color.primaryVeryLight;return(0,n.jsxs)("div",{style:{backgroundColor:"white",borderColor:v},"aria-disabled":!0,className:"flex justify-between w-full \n    items-center px-3 rounded-lg border \n    ".concat(l&&"bg-gray-100 cursor-not-allowed"),children:[(0,n.jsx)("input",{maxLength:t,onFocus:()=>h(!0),onBlur:()=>h(!1),disabled:l,id:m,type:o?"password":"text",placeholder:c,value:r,onChange:i,className:"py-4 outline-none w-full \n        h-full pr-2 bg-inherit \n        text-gray-500 font-semibold \n        disabled:cursor-not-allowed"}),d&&(0,n.jsx)(d,{onClick:u,size:24,className:"cursor-pointer text-gray-600"})]})}},32131:function(e,t,l){"use strict";var n=l(82561);let s=(0,n.Ue)(e=>({company:null,onCompany:t=>e({company:t})}));t.Z=s},22450:function(e,t,l){"use strict";var n=l(82561);let s=()=>{let e=localStorage.getItem("theme-mode");return e&&"light"!==e?"dark":"light"},a=()=>(localStorage.setItem("theme-mode","dark"),{mode:"dark"}),r=()=>(localStorage.setItem("theme-mode","light"),{mode:"light"}),i=(0,n.Ue)(e=>({mode:"light",onDarkMode:()=>e(a),onLightMode:()=>e(r),onInitialMode:()=>e({mode:s()})}));t.Z=i},17915:function(e,t,l){"use strict";var n=l(9268),s=l(40931);l(86006);var a=l(22450);t.Z=e=>{let{opened:t,onClose:l,size:r,title:i,children:o,fullScreen:c}=e,{mode:d}=(0,a.Z)();return(0,n.jsx)(s.u,{fullScreen:c,opened:t,onClose:l,title:i,centered:!0,size:r||"md",classNames:{header:"".concat("light"===d?"bg-white text-slate-700":"bg-[#121212] text-white"),body:"".concat("light"===d?"bg-white":"bg-[#121212]"),content:"".concat("light"===d?"text-slate-700":"text-white"),title:"font-semibold text-lg text-black"},children:o})}},81565:function(e,t){"use strict";t.Z=e=>{let t=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0,year:"2-digit"}).format(e);return t}},19799:function(e,t){"use strict";t.Z=e=>e.toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:2})},56008:function(e,t,l){e.exports=l(8170)},83270:function(e,t,l){"use strict";l.d(t,{w_:function(){return o}});var n=l(86006),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=n.createContext&&n.createContext(s),r=function(){return(r=Object.assign||function(e){for(var t,l=1,n=arguments.length;l<n;l++)for(var s in t=arguments[l])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},i=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(l[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)0>t.indexOf(n[s])&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(l[n[s]]=e[n[s]]);return l};function o(e){return function(t){return n.createElement(c,r({attr:r({},e.attr)},t),function e(t){return t&&t.map(function(t,l){return n.createElement(t.tag,r({key:l},t.attr),e(t.child))})}(e.child))}}function c(e){var t=function(t){var l,s=e.attr,a=e.size,o=e.title,c=i(e,["attr","size","title"]),d=a||t.size||"1em";return t.className&&(l=t.className),e.className&&(l=(l?l+" ":"")+e.className),n.createElement("svg",r({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:l,style:r(r({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&n.createElement("title",null,o),e.children)};return void 0!==a?n.createElement(a.Consumer,null,function(e){return t(e)}):t(s)}}},function(e){e.O(0,[9173,2815,1114,931,4751,9253,2961,1744],function(){return e(e.s=84772)}),_N_E=e.O()}]);