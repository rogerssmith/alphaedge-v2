(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9888],{15020:function(e,l,s){Promise.resolve().then(s.bind(s,15523))},15523:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return m}});var t=s(9268),r=s(86006),a=s(22450),n=s(32131),i=s(56008);function c(e){let{planName:l,minAmount:s,maxAmount:r,ROIDaily:a,totalROI:n,duration:c,createdAt:d,referralBonus:o,id:x,svgPath:u}=e,h=(0,i.useRouter)();return(0,t.jsxs)("div",{className:"hidden lg:grid gap-x-2 bg-gray-500 text-gray-200 card-2 p-3 rounded-xl grid-cols-5",children:[(0,t.jsxs)("div",{className:"flex justify-center items-center",children:[(0,t.jsx)("svg",{className:"text-gray-100 mx-2 text-5xl lg:text-xl",fill:"currentColor",viewBox:"0 0 512 512",height:"1em",width:"1em",children:(0,t.jsx)("path",{d:u})}),(0,t.jsx)("span",{className:"capitalize",children:l})]}),(0,t.jsxs)("div",{className:"flex flex-col text-center",children:[(0,t.jsx)("span",{children:"Price"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{children:["$",s]})," - ",(0,t.jsxs)("span",{children:["$",r]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col text-center",children:[(0,t.jsx)("span",{children:"ROI"}),(0,t.jsxs)("span",{children:[n,"% daily"]})]}),(0,t.jsxs)("div",{className:"flex flex-col text-center",children:[(0,t.jsx)("span",{children:"Duration"}),(0,t.jsxs)("span",{children:[c," days"]})]}),(0,t.jsx)("div",{className:"flex justify-center items-center",children:(0,t.jsx)("button",{onClick:()=>h.push("/add-money"),className:"bg-white rounded w-28 h-12 text-black hover:text-white hover:bg-transparent outline outline-white flex justify-center items-center",children:"Invest"})})]})}var d=s(50447),o=s(68919),x=e=>{let{user:l,transactions:s,pendingBalance:i}=e,{mode:x}=(0,a.Z)(),[u,h]=(0,r.useState)(""),[m,f]=(0,r.useState)(s),{company:p}=(0,n.Z)();null==p||p.color.primaryLight,null==p||p.currency.symbol,(0,r.useCallback)(e=>{let l=e.target.value;h(l);let t=s.slice(0),r=t.filter(e=>e.title.toLowerCase().includes(l.toLowerCase())||e.status.toLowerCase().includes(l.toLowerCase()));f(r)},[s]);let[g,j]=(0,r.useState)([]),[v,w]=(0,r.useState)(!1),N=async()=>{try{w(!0);let{data:e}=await d.Z.get("/api/plan");if(e.error)throw Error(e.error);console.log(e),j(e)}catch(e){o.Am.error(e.message)}finally{w(!1)}};return(0,r.useEffect)(()=>{N()},[]),(0,t.jsx)("div",{className:"flex flex-col w-full gap-6",children:(0,t.jsxs)("div",{className:"px-4 md:px-16",children:[(0,t.jsx)("div",{className:"text-right text-black px-4 pt-4 w-[22rem] lg:w-full",children:(0,t.jsxs)("h2",{children:["Welcome Back, ",l.fullname]})}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-3 gap-5 mb-16 px-10 py-2",children:[(0,t.jsxs)("div",{className:"rounded-xl bg-white h-40 shadow-2xl flex justify-between w-full border p-4",children:[(0,t.jsxs)("div",{className:"flex flex-col w-full pb-4",children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:"$"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Total Staked Value"})]}),(0,t.jsx)("p",{className:"bg-green-200 flex justify-center items-center p-2 rounded-xl",children:(0,t.jsx)("span",{className:"text-green-700 text-lg",children:"%"})})]}),(0,t.jsxs)("div",{className:"rounded-xl bg-white h-40 shadow-2xl flex justify-between w-full border p-4",children:[(0,t.jsxs)("div",{className:"flex flex-col w-full pb-4",children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:"$"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Current Value"})]}),(0,t.jsx)("p",{className:"bg-green-200 flex justify-center items-center p-2 rounded-xl",children:(0,t.jsx)("span",{className:"text-green-700 text-lg",children:"%"})})]}),(0,t.jsx)("div",{className:"rounded-xl bg-white h-40 shadow-2xl flex justify-between w-full border p-4",children:(0,t.jsxs)("div",{className:"flex flex-col w-full pb-4",children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:"%"}),(0,t.jsx)("p",{className:"text-gray-600",children:"ROI"})]})})]}),(0,t.jsx)("div",{className:"p-4 -mt-5 md:px-12 grid md:grid-cols-3",children:(0,t.jsx)("div",{className:"md:col-span-3 -ml-4",children:(0,t.jsxs)("div",{className:"w-[28rem] lg:w-full py-5 p-2 text-black",children:[(0,t.jsx)("h1",{className:"font-bold text-2xl py-2",children:"Staking Plans"}),(0,t.jsx)("div",{className:"grid pr-28 lg:px-0 grid-cols-1 shadow-sm rounded",children:(0,t.jsx)("div",{className:"mx-auto w-full h-fit space-y-7",children:g.map((e,l)=>(0,t.jsx)(c,{...e},l))})})]})})})]})})},u=s(34751),h=s(41557),m=()=>{var e;let{data:l}=(0,u.useSession)(),s=null===(e=null==l?void 0:l.user)||void 0===e?void 0:e.id,[i,c]=(0,r.useState)(),[m,f]=(0,r.useState)(),{company:p}=(0,n.Z)(),{mode:g}=(0,a.Z)(),j=null==p?void 0:p.color.primary,v=null==p?void 0:p.color.primaryLight;if((0,r.useEffect)(()=>{let e=async()=>{try{let{data:e}=await (0,d.Z)("/api/transactions/user/".concat(s)),{data:l}=await (0,d.Z)("/api/users/".concat(s));if(e.error||l.error)throw Error("Something went wrong getting user or transactions");c(l),f(e)}catch(e){o.Am.error(e.message)}};s&&e()},[s]),!i||!m)return(0,t.jsx)("div",{className:"flex w-full justify-center items-center  min-h-[60vh]",children:(0,t.jsx)(h.a,{color:"light"===g?j:v})});let w=m.filter(e=>{let{category:l}=e;return"deposit"===l||"transfer"===l||"money-received"===l}),N=w.filter(e=>"pending"===e.status),y=N.reduce((e,l)=>l.pendingBalance?e+l.pendingBalance:e+0,0),b=null==w?void 0:w.slice(0).reverse();return(0,t.jsx)(x,{user:i,transactions:b,pendingBalance:y})}},32131:function(e,l,s){"use strict";var t=s(82561);let r=(0,t.Ue)(e=>({company:null,onCompany:l=>e({company:l})}));l.Z=r},22450:function(e,l,s){"use strict";var t=s(82561);let r=()=>{let e=localStorage.getItem("theme-mode");return e&&"light"!==e?"dark":"light"},a=()=>(localStorage.setItem("theme-mode","dark"),{mode:"dark"}),n=()=>(localStorage.setItem("theme-mode","light"),{mode:"light"}),i=(0,t.Ue)(e=>({mode:"light",onDarkMode:()=>e(a),onLightMode:()=>e(n),onInitialMode:()=>e({mode:r()})}));l.Z=i},56008:function(e,l,s){e.exports=s(8170)}},function(e){e.O(0,[2815,1114,4751,9253,2961,1744],function(){return e(e.s=15020)}),_N_E=e.O()}]);